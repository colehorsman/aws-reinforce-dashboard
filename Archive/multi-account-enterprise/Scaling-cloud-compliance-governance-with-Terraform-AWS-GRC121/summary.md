# AWS re:Inforce 2025 - Scaling cloud compliance & governance with Terraform & AWS (GRC121)

**Video Link:** [Watch on YouTube](https://www.youtube.com/watch?v=OQvKpZ53tfE)

## Video Information
- **Author:** AWS Events
- **Duration:** 15.8 minutes
- **Word Count:** 2,990 words
- **Publish Date:** 20250619

## Summary
This session from AWS re:Inforce 2025 is presented by Welly, a principal partner solution architect at AWS, and Tyler, a field CTO at HashiCorp, focusing on policy as code implementation and enforcement in cloud environments. The presenters discuss the growing complexity of regulatory environments and the challenges organizations face in protecting infrastructure across multiple platforms including AWS, Azure, on-premises, edge, and mainframe systems.

The presentation addresses the technical concepts of preventative and detective controls in cloud security, with a particular focus on implementing policy as code using HashiCorp's Sentinel framework. They emphasize the challenges organizations face in translating human-readable compliance frameworks (like CIS benchmarks, SOC2, HIPAA) into actionable, automated policies that can be enforced across their infrastructure.

The speakers highlight the strategic collaboration between AWS and HashiCorp, which has resulted in pre-built policy frameworks including CIS benchmarks and AWS security best practices. These ready-to-use policies help organizations accelerate their security implementation while reducing maintenance burden, allowing engineering teams to focus on core business objectives rather than building security policies from scratch.

## Key Points
- Infrastructure complexity and regulatory requirements are increasing, requiring robust policy enforcement solutions
- Preventative controls stop security issues before they occur, while detective controls identify issues after they happen
- Terraform provider for AWS has over 4.4 billion downloads, showing widespread adoption of infrastructure as code
- Organizations struggle with translating compliance frameworks into actionable technical controls
- Sentinel framework enables policy as code implementation with flexible assignment capabilities
- AWS and HashiCorp's strategic collaboration provides pre-built security policies and frameworks
- Custom organizational requirements often extend beyond standard compliance frameworks
- Policy as code can enforce both security and non-functional requirements (like tagging for charge-back)
- Pre-built policies reduce maintenance burden and accelerate security implementation
- Focus should be on business-specific requirements rather than building baseline security controls

## Technical Details
- Sentinel framework supports both preventative and detective control implementation
- Integration points include CICD pipeline for pre-merge policy checks
- Support for external data source queries to implement custom organizational requirements
- Implementation options include both provisioning-time checks and run-time integrations
- Pre-built policies available through Terraform registry for automatic updates
- Supports CIS benchmarks versions 1.2, 1.4, and 3.0
- AWS Framework for Security Best Practices includes approximately 200 pre-built controls
- Policy enforcement can be applied at terraform workspace, project, or global levels
- Capabilities for enforcing tag requirements and AMI version compliance
- Integration with AWS services like Config for detective controls

## Full Transcript

Good afternoon. Yeah, still morning in my, uh, time zones. Uh, my name is Welly. I'm a principal partner solution architect with AWS and today I'm with my colleagues and my old friend Tyler. Hi everybody, raise your hand if you can hear us OK. Do we need to speak up more? You're good? OK, you good? All right. It's a little loud here with background noise. So my name is Tyler. I'm a field CTO with Hatacorp, and we specialize on policy as code and enforcement. I've been working with Welly and doing talks like this for probably 4 or 5 years now, um, so it's kind of my work husband. So everybody understands that there is an increasingly complex structure right now that we have with regulatory environments and threat actors. I think that's not a surprise to anybody. We start working with customers and say, hey, how do we How do we protect our infrastructure, but more than that, how do we protect identity, all the infrastructures we operate in, whether it's Amazon, Azure, OnPrem, Edge, and Mainframe now. And these are the challenges that customers are facing, and it's ever complex. That complexity breeds investment, that complexity breeds knowledge experts, that complexity breeds our ability to go in to help our customers achieve this. These are some statistics from Gardner, IDC, and CrowdStrike, but we all know how bad of a problem this is when it comes to infrastructure is code and policy is code. Is anybody here actually using policy as code today for detective controls or preventative controls? One person. Well, let's define what they are first. So, uh, preventative control is something that can stop an action from happening before it becomes a problem. These are typically implemented in like your CICD chain where we would stop an S3 bucket from being open to the world. That's a canonical example I use. It's heavily been used for data exfiltration, so it's preventative control stopping. Usually accidents, they're usually an oopsy, overly permissive IIM policy, open S3 bucket, those kind of things, but it's codifying a rule to stop those mistakes from actually making it into production. On the inverse of that is that detective control. These are things that AWS has. AWS config, which can launch logs and detect somebody has done something outside of policy. That could be they've taken an S3 bucket and made an open read to everybody config can detect that. So there's a preventative control. Let's stop it from happening. Detective control, we now know that it happens. We need to take some sort of immediate action. All right, yeah, so when I really start working with Tyler and the Hashi corps, one thing is really, really, uh, resonate with me is that our mission is pretty much the same. Our mission is to make sure like the customers are using the cloud securely and effectively as well. And some of this is an example of those integrations that happened throughout the years from having a secure landing zone to begin with until having like policyS code that you can use as part of your implementations of those cloud resources. So how many of you in here today are using infrastructure as code? All right, great. Is this exactly the sessions you wanna hear, and we're gonna keep it very short because we wanna go straight to some of the essence that Tyler just mentioned earlier. Go go next slide. It's important to note though, today the terraform provider for AWS has had over 4 billion downloads. I think we're at 4.4 billion as of today. So this is not something new for you all. You're already using infrastructure code. It's a good way to declare your infrastructure and resources and why is because then you can scan those infrastructures by using a policy CS code. Uh, some of you I've seen in the sessions yesterday that I delivered, and there's many ways you can do this from like altering phases all the way until like the actual deployment itself. Now Tyler, let's talk a little bit about some of the challenges if you don't want me to maybe move to the next slide. Right. So when you do uh infrastructure provisionings, there are ways for you to implement policy ofO. Either you do it as part of the provisioning itself, and you can use this, for example, by using sentinel policies, which I will talk more about it. Or you can also do this as part of like a run tax integrations where you want to maybe integrate with third party customers or third party products. Now, there's one part of using the tool itself because it looks very simple. You can use internal policy as good as part of your provisioning work flow, but then Tyler earlier mentioned and set the stage about some of the challenges for the organizations. I'm curious how many of you today are trying to interpret, for example, the policy framework for say. CI benchmark and then try to figure out what is that human language become a control to expand on that question, is anybody here trying to adhere to any compliance regime such as SOC2 ISO, HIPAA? There we go, CIS, yeah, so that's where I start is you have this regulatory burden that you're trying to meet. You have that those regulations, you have policies defined and they're like text written policies, but how do you codify that into automation to enforce those policies ubiquitously across your engineer. In operations organizations that does require 3 actors. You have your compliance team, your security team. You can even have finance teams, you can have finance policies, um, and then the people actually doing the work to write the code exactly and that's where the challenge is because then you have to interpret the actual policy in the human language into your control objective, for example, and then map that control objective to resources in AWBS whether you are using E to instance, you're using lambda functions, S3, and etc. And we recognize this is actually uh a lot of work. So Tyler, maybe come to we're talking about the control objectives. One of the things I love about working with AWS is they actually publish their interpretation of the control objectives in human language as an example, they will say to meet this particular control for Sock 2, every BPC must have a flow log, and that flow log must be encrypted, right? And so they publish these in human readable and what they mean on AWS LAN, that's really your starting point from a policy perspective. So this is again really where Sentinel uh comes to the pictures, but before we kind of dwell into like the solutions, uh Tyler, you wanna talk a little bit about what is Sentinel framework? Yeah, so Sentinel is a policies is code framework. It is a simple declarative language where you can define your policies and you can actually model in code the same policy that I just talked about. So for every VPC must have a flow log must be encrypted. Easy enough, it could be now where do you implement that? How do you run that policy against your infrastructure as code? There's a couple of different places to do it. Here we're actually showing it running as part of your CICD pipeline, so as somebody creates a poll request before that poll request gets merged, it is best to go and run these policies against that poll request before. We allow it to be merged. Well, why? We want to prevent mistakes from happening. Most mistakes in the cloud are not intentional. Most security violations in the cloud are not intentional. They're mistakes, you know, the cloud is everly complex and increasing. You have 200 and something services today, so to know those is kind of hard. This shows you how to do it and you can do flexible assignment. I can assign that at a terraform workspace. I can even assign it to a specific project or globally. This allows us to say, oh well, everything under this project has got to be HIPAA or PHI. Let's apply these policies, but I'll have more granular policies being applied to a specific workspace. Maybe you have an HR system and you want to have additional policies on that. So we do allow that kind of flexibility. And maybe let's uh check the room again like how many of you on top of implementing some of these frameworks such as CIS benchmark, but you also have requirement from your organization specific to maybe t requirements. I see some people raise their hand, right? Maybet requirements, instant size, and etc. Does everybody here use tags? There we go. If you don't, if you didn't raise your hand, you should go Google AWS tagging strategies. That's the first place to start. Yeah. So the reason I'm asking this question is because when you look at those custom requirements specific to your organizations, a lot of time that it doesn't really map directly to the CSP to CS. Benchmark might say something about encryptions but don't say about what specific tax that you need to have in your taxonomy in your organizations and a lot of time that tax requirements exist in your own data stores in your own data source that then the policy code has to have a way to actually retrieve it and this is what's really nice about sentinel framework is that it not only that it inspect your infrastructure code as this, but it also have access to retrieve data source externally. And use that as part of the evolution logics. So now this is a great way for you to, one, implement the existing search benchmark. We're gonna talk a little bit about that, but also about using the same tool to implement your custom organization requirements in terms of like policy CS code. And to codify that a little bit, a data source can query something. So let's say that your team will centrally publish an AMI that you know is patched and has your security agents and your logging agents, and you wanna make sure that all the infrastructure deployed uses the latest AMI. Sentinel can actually. the latest AMI that your team has published and verify that this latest poll request is using that latest version and if not, flag it. You can flag it as a warning like, hey, you should do this or it can be a hard flag and you can actually block that from being merged in. It really depends on your clients, but it's more than security. It can also be nonfunctional requirements if you do charge back. Maybe you're a platform team and you have 16 or 17 consumers in your platform, you want to charge back. You can do that with tags, but if you don't have the tags and policies like Sentinel can enforce, you have those tags on Create. And so think about nonfunctional requirements that are business needs, business driven, and it could even be financial operations. All right, so again I mentioned earlier like one is interpreting a lot of this compliance framework and then map it into your control objectives into resources and services that you're using and then start to go into each of those services and features to map the controls and then write the policy, right? That's literally 30 seconds but then in real life it's gonna take days and days and months for you to do that. So when we talk with a lot of the customers this is the same kind of challenges that they say so raise your hand if you are struggle in this area as well where you have to implement a lot of these uh security frameworks, how many of you actually written your own policy as code for example? Some of you, right, I see 4 hands out of 50, right? The challenge is because one thing is about using the tool, but to have actual content and rules that can be used. That is really where a lot of the investment is actually needed in order to actually be secure and compliance in your, uh, infrastructure journey in AWS. Yeah, in 2024 HashCorp signed what's called a strategic collaboration agreement with AW. and we co-develop, we go to market on things and you saw the first artifact of that was the CIS benchmark policies that were published last year, I think, yep, and a new one was published recently. Yeah, the recent one is the AWS framework for security best practice that includes about 200 some controls that comes pre-built in as you are using Sentinel policy as you can immediately use those built in pro in security. Frameworks and it's more to come as we go through the year as well and the way I think about that particular set of frameworks that were published and policies, it's essentially the Amazon well accepted security lens codified with 200 rules. So if you're well architected or you want to be well architected, this is a great starting point. You don't need to write them yourself. You can use these pre-published policies by AWS and Hacorp against your infrastructure and start to achieve that. So again, here's some example of that as I mentioned, CS benchmarks uh 1.2, 1.4, and 3.0. Uh, the, the one that you don't see in the slide right now is the AWS framework for security best practice. Really, this is not the idea of accelerator. It gets you from zero to say 60 miles or 70%, right? It doesn't completely uh cover everything because as I mentioned earlier, you have that organization specific requirements that you still need to codify. But the idea in here is that instead of your team keep repeating and build this undifferentiated heavy lifting of this baseline policy, we provided this to you all as a out of the box, uh, as part of the Sentinel framework. And so as a solution architect when I was at AWS, I'd tell my customers build these, but then they have to maintain them and actually what we see is there's a significant amount of maintenance effort that goes into maintaining and updating these. What I want to point out here in the screenshot is it says policy and it's got a URL. This is the terraform registry. What this means is that when AWS and Hahacorp. New versions of this, you get to consume it right away. The maintenance burden is now on us, and you can see here we're supporting CIS benchmarks 1.2, 1.4, and 3.0. If we want to extend that, we can do that for you, and you don't have to change anything. There's no code changes as long as you're referencing it from our registry. There's a lot of power in reducing your long term burden by adopting these pre-written policies by AWS and. Next. So again, what's the whole idea about this is to allow you to move faster, to allow you to reduce the risk and to allow you to reduce the cost as well, right? Because we want you to focus on what's really matter for your business and then let us taking care of some of this initial baseline of the enforcement of the policy code. So some of you already starting your journey by having infrastructure as good. This is great. If you are not using infrastructure as God, really, I think this should be the starting point for you. But now you have infrastructure as Scott. How we implement this policy as God, this is really one of the ways we are offering the solutions. Yeah, and the real intent here is that your engineers can focus on the core competency of moving your business forward, whatever is important to your business, that's where their knowledge. Should be that's where their time should be allow us to take on the heavy lifting of the burden of compliance for the general things, right? These 200 controls that Amazon is now published, you can focus on now the 10 controls or 15 controls that are unique to your business and only have to manage and operate those. And again, as I mentioned with Tyler, all of this is available in telephone registry. Then a lot of us in here is the developer as well, and what the developer wants is the way to codify the way to implement policy as code. So we go even one step further to also have a modules that you can use to deploy this policyS code into your environments directly. If you're not familiar with the terraform module, a terraform module is a reusable terraform configuration that's meant to be consumed by other people. So we published this module. It's a CIS 1.2 policies. You'll also see the 3.0 policies as well. You adopt the ones on the compliance regime that you are attempting to target. And we just make it super easy for you to consume. You can also extend this module with your own policies if you would like. You'd include this module and then another module for your own policies, and I'd recommend the same kind of granular construction. It would be CIS 1.2.0 policies company name. So now you have a module that's just your specific ones that you're including for those workloads that need to hit CIS. So we've got about 4 or 5 minutes. Are there any questions from anybody that we can directly answer here? Anything that wasn't clear to folks? I'll stay out of your QR code. Thank you so much for your time, everybody and your attention. We appreciate you.
