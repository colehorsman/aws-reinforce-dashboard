# AWS re:Inforce 2025 - Securing EKS containers: Reducing CVEs & simplifying compliance (APS223)

**Video Link:** [Watch on YouTube](https://www.youtube.com/watch?v=XbJD5VZL-z4)

## Video Information
- **Author:** AWS Events
- **Duration:** 19.4 minutes
- **Word Count:** 3,310 words
- **Publish Date:** 20250618

## Summary

This session, presented by Mark Baker from Chainguard, addresses the critical challenge of managing the accelerating discovery of Common Vulnerabilities and Exposures (CVEs) in open source software. While the increasing number of CVEs represents positive security progress through better vulnerability detection, it creates significant operational challenges for organizations trying to maintain secure container and VM environments. Baker explains how traditional approaches of "freezing in time" and backporting patches cannot keep pace with modern CVE velocity, particularly as new compliance standards require even low-severity vulnerabilities to be addressed.

Chainguard's solution centers on their "factory" approachâ€”a continuous CI/CD system that rebuilds software packages from source daily, generating minimal container images and VM images with zero or very few CVEs. This approach contrasts sharply with traditional Linux distributions that typically accumulate vulnerabilities over time. The presentation demonstrates how Chainguard OS, built entirely from source rather than based on existing distributions, serves as the foundation for both distroless containers and minimal VM images designed for specific purposes like EKS container hosts.

The session includes practical demonstrations showing Chainguard VMs running in Amazon EKS environments with significantly fewer packages (less than half) compared to general-purpose operating systems like Ubuntu or Amazon Linux, while maintaining full compatibility with AWS services like Systems Manager and CloudWatch. Baker emphasizes the importance of purpose-built, minimal environments that include only necessary components, reducing both the attack surface and the ongoing burden of CVE remediation while enabling developer innovation through access to current software versions.

## Key Points

- **CVE Acceleration Challenge**: While increasing CVE discovery is positive for security, it creates operational challenges with compliance standards now flagging even single vulnerabilities of any severity
- **Traditional Approach Limitations**: "Freeze in time" and backport patching approaches cannot keep pace with modern CVE velocity, restricting innovation and accumulating security debt
- **Chainguard Factory Approach**: Continuous CI/CD system rebuilding tens of thousands of software packages from source daily, generating images with zero or minimal CVEs
- **Purpose-Built Minimization**: VM and container images designed for specific use cases (like EKS container hosts) rather than general-purpose deployments, reducing attack surface and packages
- **Chainguard OS Foundation**: Distroless operating system built entirely from source (not based on existing distributions) serving as foundation for both containers and VMs
- **Comprehensive Software Library**: 1,400+ container images rebuilt daily with full attestation, signatures, and Software Bill of Materials (SBOM) for complete provenance
- **EKS Integration**: Amazon EKS-optimized VM images with AWS Systems Manager, CloudWatch agents, and CloudFormation integration while maintaining zero CVEs
- **Significant Package Reduction**: Chainguard VMs contain less than half the packages of general-purpose operating systems (Ubuntu ~300 packages vs Chainguard <150)
- **Seven-Day SLA**: Service level agreement to address any discovered CVEs within 7 days through automated rebuilding and patching
- **Compliance Focus**: Working toward FIPS validation, VM STIGs, FIPS 140-2 validation, and CIS benchmarks for regulated environments
- **Developer Libraries**: Secure alternatives to Maven, PyPI, and NPM with the same sourcing approach applied to development dependencies

## Technical Details

**Chainguard Factory Architecture:**
- Continuous CI/CD system processing tens of thousands of software packages
- Daily rebuilds (often more frequent) from stable upstream source branches
- Fully compliant and secured software build and supply chain
- Integration testing and extensive validation before image generation
- Complete provenance tracking with attestation, signatures, and SBOM generation

**Chainguard OS Foundation:**
- Distroless operating system built entirely from source
- Not based on any existing Linux distribution (Ubuntu, RHEL, etc.)
- Kernel-less base system for containers, kernel-enabled for VMs
- Minimal package inclusion philosophy for reduced attack surface
- System D-based process management for modern Linux environments

**Container Image Library:**
- 1,400+ different container images covering toolchains, runtimes, and applications
- Images for Python, Java, Nginx, Redis, Squid Proxy, and other common software
- Daily rebuilds ensuring current software versions with minimal CVEs
- Full digital signatures and attestation for supply chain security
- Purpose-built for specific use cases rather than general-purpose deployment

**VM Image Specifications:**
- Linux kernel 6.15 (upstream stable from Greg Kroah-Hartman's tree)
- SystemD for modern process management
- GLIBC for library dependencies
- Built for ephemeral workloads and node replacement scenarios
- Optimized for auto-scaling groups in EC2 and EKS environments

**Amazon EKS Integration:**
- Native AWS Systems Manager integration
- CloudWatch agent support for monitoring and logging
- CloudFormation agent for infrastructure automation
- Kubernetes components: kubelet, kube-proxy for cluster operations
- Container runtime support (containerd/Docker) for workload execution
- Full compatibility with AL2, AL2023, and Bottlerocket workflows

**Security and Compliance Features:**
- Zero-CVE target with 7-day remediation SLA for any discovered vulnerabilities
- FIPS validation available for 80+ container images
- Working toward VM STIGs compliance for defense environments
- FIPS 140-2 validation in progress for cryptographic requirements
- CIS benchmark compliance development for industry standards

**Vulnerability Management:**
- Trivy and Grype integration for vulnerability scanning
- Real-time CVE tracking and automated remediation
- Order of magnitude reduction in CVE count compared to traditional distributions
- Continuous monitoring of upstream stable branches for security updates

**Developer Library Support:**
- Secure alternatives to Maven (Java), PyPI (Python), NPM (JavaScript)
- Same factory approach applied to development dependencies
- Full provenance tracking for all library components
- Protection against typosquatting and supply chain attacks

**Minimization Strategy:**
- Ubuntu standard: ~300 packages, Amazon Linux 2023: ~344 packages
- Chainguard VM: <150 packages for EKS container host use case
- Purpose-built images containing only essential components
- Swiss Army knife approach avoided in favor of specific-purpose optimization

## Full Transcript

Uh, so yes, uh, good afternoon. Thank you for joining. My name is Mark Baker. I'm from Changguard, a product manager there working, and, um, we're gonna be talking a little bit about uh what we do to help secure containers, but really your open source infrastructure in general. So the first thing I'm gonna talk about is um is CVEs, right? CVEs are generally a good thing. Hard to believe, right, but CVs are a good thing because finding vulnerable if there's a CVE, right? Everyone knows what CVE is, right, a common uh vulnerability exposure, so if. If the CV is found, if there's a CV number for it, it means that a weakness in your software has been found. So Cs is a good thing. Finding them it leads to more secure software, better, better environments. And must be figured out this button. Um, and the good news is number of CVs, discovery of CVs is accelerating. So All around the world, open source developers, people just like yourself, are discovering CVs and software, getting those um uh those vulnerabilities uh logged, and, and vendors then are notifying people through advisories, right, and starting to issue patches. This is all a good thing. Right, and you see just some of the stats from various different media companies here around how the flood of CBE's is is increasing dramatically. This is, I mean, from a security perspective, it's a good thing, right? It leads to stronger software, better software. The bad news is it makes the CV remediation much harder, right? More CVs that are found within software, the larger your job is to be able to, to, to, to remediate those, to fix them, to apply whether it's applying patches or removing the software or upgrading software, right, to be able to impact that. How do you solve that problem, right, how can you, how can you better manage the remediation of CVs? Well, some of the challenges that we see, right, the compliance. Um, you'll see that with compliance, there's new standards like the new PCI GSS standards coming in, right, where having a low number of CVs is not good enough, right? If you have just, just even one, you're gonna get flagged for it. And that's of any severity, right, uh, so if you have compliance, if you're, if you're compliance with uh different standards, then CVs can become an issue that you need to track and report on, right? Auditors will look at it. You also see um challenges of of vendor reclassification, right? Has anyone experienced this? Where a CV is comes out as a particular severity, it's given a classification of a particular severity, but then a vendor will say, well, actually we're downgrading that that severity from a, a critical to an important or to a medium, because we don't think in this environment it's important. Right. As a consumer, right, as a user of that software, it's up to you to try and determine, is that fair? Right, what does my scanner say? Is this like high priority? Is it critical? Is it medium? Is it important? Right, so vendor reclassification creates issues. Right, the software vendor velocity to fix these creates issues too. Right, sometimes it can take days or weeks for those medium TVs to get addressed, and that's lighting up your dashboard red, that creates problems. And then risk assessment complexity, actually the last talk touched on this when you were here for that, right? So how do you know where your vulnerabilities are, right, and which pieces of software are vulnerable and therefore what steps you need to take to protect yourselves? Finally, this is something that we hear a lot from customers too, right, which is the longer you have um software deployed, the same version of the software, the more CVEs you're going to uh accumulate within that software, but also your ability to innovate decreases, right? And you'll see this with um with very long running environments, right? It used to be that that says admins were very proud of up time, right, just keep it running for a long, long time. If it ain't broke, don't fix it, right? But you can't do that because if you do that now, you'll you'll acquire a lot of CVs on that environment, but also you're gonna be restricting your developers the ability to innovate because they're gonna be running on older versions of software. So Chain Guard, Chain Guard's, uh, a company that's been around for about 4 years, and our goal is to be the safe source for open source. We produce images and software. That has low or no CVEs. How do we do that? Notice I didn't say vulnerabilities, right, no software is free of vulnerabilities, but CVEs, those which are recognized, we aim to have low or no CVs. We do that by. You think something called the Chainguard factory. Chain guard factory builds software packages from source continuously, it's like a giant C CICD system. We pull in thousands, tens of thousands of packages into that factory, and from that, we do a lot of integration testing, a lot of testing as you'd imagine, a lot of building. And we generate then images on the back end of that. So typically the thing that we've done really well for the last couple of years is generating container images. And over, over the last few years, we now have a library of around 1400 or so different container images. These we're rebuilding at a minimum daily, often more than that. And so every um every new piece of code that lands in a stable branch of one of the software repositories that we track, we pull that into the chain guard factory. This is a fully compliant, fully secured software build and supply chain. And then we'll generate a container image for that particular piece of software and say it could be like Python or Java or Engine X or Reddit or or Squire proxy. Will generate that with with attestation. A signature and an S-bomb, right, so you know where it's come from, and we'll stand by that saying this is a uh an image that has been generated because it's, it's absolutely tracking stable. It should have 0 or very few CVEs. There there are CVs in it, we have an SLA that we will address those like typically uh within 7 days. Right, we believe that this is now a better way to be able to to manage software, manage security, and manage CVs in your organization, because the old approach, the kind of traditional approach. Freezing something in time and then back porting patches to that to be able to dress it. Doesn't allow you to keep up with the speed, right? The velocity of the CVs that you see coming down. How do we do it? Well, we start at the bottom, it's like with the chain guard factory. I apologies if we can't see the bottom of the slide, it's quite low, but we start with the chain guard factory, and this is this giant system that pulls in software tens of thousands of software packages. Um, from that we, we actually build something called Chain Guard OS. Changguard OS is a um I think what's often referred to as a distroless environment, right, it's an operating system, doesn't have a a a kernel. Um, to begin with, But it's built, say from source, it's not based on any other kind of operating system, it's it's, it's its own operating system built from source. And from that we then generate images. So we we can generate a chain guard VM image. We do that by adding a kernel and various other components to turn it into a full Linux distribution. We generate containers And so as I said, we have a a library of around 1400 different containers. Um, these are very, very minimal, right, so minimization is a, a very important thing to us, fewer fewer packages, fewer executables, lower tax service, much more efficient. Um, So free from TVs and we do that for both uh tool chains, run times, applications, and then at the top end we have a uh another product called Chainguard Libraries. So if you're developing using uh to be like, like Python or Java. You'll typically be pulling libraries from maybe Maven or Pi Pie or Vera. JavaScript developer, you'll be pulling from MPN. Right. Just in the same way that pulling images from Docker hub of unknown provenance is a risk, that's also a risk, right? Pulling your, your libraries from Maven or Pie Pie. Again, in the last session they talked about this, right, if you get the name wrong, you can pull something in that's that's uh you weren't expecting. The Changgu libraries does the same thing. We have whole sets of libraries that your developers can use in exactly the same way they would pull from Pie Pye or Maven, we have built those from source in the chain guard factory and make them available with full provenance, fullcessation, full digital signatures. So I want to take a uh just a few moments to talk about chain guard VMs. Chengon VMs take exactly the same principle that we have with Chenon containers. So these are minimal zero CV VM images. Um, these are built for ephemeral workloads, so. Typically we're targeting environments where you're operating on node replacement. So if you're running like auto scaling groups in uh in ET2 or maybe in in EKS for example, um, these are gonna be ideal use cases from the Chainguard VM. Uh, we rebuild them daily, in fact, again, often, uh, more frequently than daily, but what it means is that when you're in your EC2 console, you can go find the Chainguard VM that has been built within the last 24 hours. And we'll have low to zero CVEs in that environment. Again, that's not typical that you would see with Another VM, let's put it that way. So, uh, if you're looking at an alternative operating system, because they are typically frozen in time and then back port patches to that environment, there's a naturally a delta between. When the CV is found and when the fix is available. And so I'm sure you see this in your environments, if you perform a scan of your VMs today, you will see unpatched CVEs in those environments, right, lighting up your dashboard. In in previous years, that may not be such a problem. We believe it is becoming increasing problem for you today. So the 10 guard OS coupled with a kernel, and I'll show you that in a minute. Um We've added the assembly of these VM images into the factory, so we produce these for a number of use cases. And that's really important because when we build a VM with Changguard. We're building it for a specific purpose. We don't build general purpose VMs that you then go and decide what you wanna do with it. Because then we'd need to give you a toolbox and a Swiss Army knife to be able to um do lots of things. Really, you want to start with a bare minimum image for the purpose that you know, right, if it's gonna be running as a container host, which is the example I'll give you in a second, you only want the things in that VM that are required to. To run as a container host. Sure, you may want to customize that for your needs and we'll give you the ability to do that, but your starting point is the minimal starting point. And so that's retained with the original philosophies of a container images only include the things that you really, really need, right? Because it gives you fewer things to manage, fewer CVs to remediate. I'll take an example, we have this for chain guard container hosts, and so we have an image for Amazon EKS today. Um, it's not publicly available, if you want to try it out, please do come and talk to me, right, and I can give you access to that. It's in the marketplace, but it's just restricted right now whilst we're before we go GA. There we've taken our Linux kernel, so we're on around a 615 kernel today, I think. System D, GLIC for your libraries, then the various components that are required to be able to run in an EKS environment. So K proxy, Kuble, etc. We've also added the Amazon agents, things like AWS Systems Manager, the cloudwatch agents, cloud formations agents, so it behaves in exactly the same way as you would have with AL2 or AL 2023 or Bottle Rocket in that environment. But we shoot it with zero CVEs so you can have a a CVE free uh version. You also have the ability to customize it if you want to be able to make modifications to it. Likewise, we also have, if you don't run one run an EKS, we also have a, a general, you know, other VM images. In this case, again, if you want to run containers as a container host, a container runtime, there with container D or Docker or whatever you need, plus with the system agents to be able to run in those environments. So let me show you an example of this running. I'd love to say it's a live demo, but it's obviously a recording. But here we have, oh there we go. So in easy to console, we have an AKS cluster running, but you'll see these host names, you scroll down, it'll just show you that we have a chain guard VM uh and show you the AMI that we're running, right? So this is the AMI that's, uh, that's we've launched. We launched that from the marketplace, so you can see it, uh. We're fully integrated into that environment, we're go and connect to that, connect that using idea of a session manager. And that confirms that we're running um AWS Systems Manager, we wouldn't be able to do that without Systems Manager. You see that we're running a 615 kernel, so that kernel's about, um, it is the latest stable, right? It's from upstream stable in um in the Linux world. And we're running a whole set of um Our processes that you can see, the important thing I think we're gonna show here is the file systems, but then also we have the System D units. Right. System D is the de facto standard way of managing um processes in the latest environment, right? And so for this particular container host use case, we've included a bunch of um. System units for the container services. So now we're gonna uh showing you um. The EKS cluster and some of the compute nodes that we have running there. You scroll down, you see that we have 3 node groups running, each of 2 nodes, and we've got a mixture of operating systems here. We have Ubuntu running, uh, some AL 2023. We're going to have a look at one of those nodes. I think this is the Amazon Linux node, yeah, AL 2023. You see the kernel version that we're running there, the versions of uh container D and the and the Kubert. This is a um uh I say a running cluster was running actually last week when I recorded this demo and and and submitted it through. You see, we do the same with the uh with the Ubuntu environment. You see again what Kernel release we're running, the versions of Container D and Kuble. As you'd expect, we're gonna do the same with the uh with the chain guard node. Right, and we're running again the latest kernel. This is upstream stable, so we're not like running from trunk or doing anything risky. This is the upstream uh kernel. It's based on Greg Crowe Hartman's tree, right, so which is the stable release. Uh, and you also saw version of Kubla and get, uh, that we were running there too. And we're going to take a look in um in Systems Manager, right, just to show that we have systems Managing integration. And this we wanted to be able to show, again just for comparison's sake, um looking through the inventory. This I want to talk to the, the, the scale here of minimization. And so We look at the uh some of the other environments, and this environment is an Ubuntu environment, right, Ubuntu is a general purpose operating system, does a really good job, right? I worked for Canarical, helped develop Ubuntu. I have a lot of respect for it, it's a great operating system, um. But it had around 300 or so applications. Likewise, with AL 2023, around 344, right? And this is what you get with a general purpose operating system, it's trying to cater for a lot of different use cases. If we go back And take a look at the chain guard environment. Again, because we've designed it specifically for this use case, right? This is purpose built as a container host. We've got less than half the number of packages, and this is because we've designed it specifically to run as a container host with an EKS. Lastly, let me jump into here, which is a vulnerability dashboard. So here we're just using um trivia and ripe, right, to be able to look at both the container images and the underlying OS. And you'll see that we look at the container images, we're not running a lot down here really. It's just a a test system, but we have this web front end for uh this environment, plus the, these are the uh EKS demon sets that get installed on every every image that you run. Every node, you'll see these are the underlying host OSs, right? So you just want to give you a picture of the vulnerabilities, because we're built from source, because this has been um. We're rebuilding every day, for this kind of inhemeral environment, you can see that we have loads to very few CVEs. In fact, in the chain guard environment we have a couple of CVEs, right, which is a little frustrating. So when I dig into this, you'll see in the demo. Um, we look at the output of that. They're actually coming from some of the, it doesn't matter, some of the go libraries are associated with that. But I'm gonna stop the the demo there. um, but you'll see order of magnitude fewer number of packages, order of magnitude, I mean fewer CVEs, right? And that's really the goal here is that we provide minimum optimized, minimal optimized uh environments, both on the container side and the VM side. Right, so that you know you always have those images available to you with low or no CVEs. What are we doing next for Chengguard VMs? Well, we're looking much more at the compliance, uh, state. So we already have Phipps validated images, we have around 80 or so Phipps validated images for chain guard containers. So if you're running in that Fed ramp environment, need something like Phipps, then you have those. Um, but on the VM side, we're looking at the VM stigs, Phipps 130 is validation and the CIS benchmarks. Working on those, they take time, as you know, but we're working on those very hard. If you're interested in learning more about Chain Guard, both containers or Changguard VMs, I'd love to talk to you after the session. Thank you very much.
