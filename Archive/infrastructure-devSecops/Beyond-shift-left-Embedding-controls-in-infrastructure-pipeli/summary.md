# AWS re:Inforce 2025 - Beyond shift-left: Embedding controls in infrastructure pipelines (GRC442)

**Video Link:** [Watch on YouTube](https://www.youtube.com/watch?v=Ti1iyncONCM)

## Video Information
- **Author:** AWS Events
- **Duration:** 42.3 minutes
- **Word Count:** 7,375 words
- **Publish Date:** 20250618
- **Video ID:** Ti1iyncONCM

## Summary
The presentation focuses on embedding security controls into infrastructure pipelines using AWS CDK (Cloud Development Kit). The speakers, Dan Gerard and Kevin Dee, discuss how to move beyond traditional "shift-left" approaches by automating compliance checks and security controls directly into the infrastructure code.
The presentation emphasizes the challenges of manual security reviews and compliance checks, highlighting how CDK constructs and aspects can be used to implement reusable, standardized security controls across an organization's infrastructure. They demonstrate how this approach helps organizations maintain security standards while enabling faster development cycles and reducing the burden on security teams.

## Key Points
- CDK enables automated security controls and compliance checks through reusable infrastructure components
- Aspects provide cross-cutting capabilities to implement security features without modifying original code
- Traditional manual security reviews (PR reviews, code walkthroughs) are becoming unsustainable at scale
- Security controls should be treated as features that can be automated and embedded into infrastructure
- Organizations need to define, integrate, test, monitor, and evolve their security controls continuously
- TypeScript is the primary language for new CDK features and should be considered for implementation
- Multi-layer validation approach is necessary for comprehensive security coverage

## Technical Details
- AWS CDK Construct Levels:
  - L1: Direct 1:1 mapping to CloudFormation resources
  - L2: Curated patterns with security defaults
  - L3: Enterprise-customized patterns
- Featured AWS Services:
  - S3 (demonstrated with secure bucket creation)
  - CloudFront (mentioned in L3 construct examples)
  - AWS Config (mentioned for monitoring)
  - Resource Explorer
  - CloudFormation
- Implementation Tools:
  - CFN Lint for template testing
  - CDK Aspects for cross-cutting concerns
  - TypeScript as primary development language
  - Infrastructure pipeline integration capabilities

## Full Transcript

Welcome to GRC 442. I'm Dan Gerard. Next to me is Kevin Dee. Uh, we're gonna discuss how to shift left embedding controls in your infrastructure pipelines. So with that, let's begin. Quick agenda, we're gonna go into the intro of what we're talking about. We're gonna talk about compliance changes, what you will take away from this? A hands on demo that Kevin will provide. We're gonna discuss AWS CDK aspects patterns, how to shift left in your development flow. Multi-layer validation, how you can kind of combine these things to make your own uh pipeline possible. And then also how to define some custom patterns in your libraries. OK, so we're gonna discuss why CDK just to kind of level set across the audience and may be like, I know what CDK is, Dan, why are we here? But just to make sure everybody's aware. So it's a cloud development kit, AWS cloud development kit. It's open source infrastructure is code framework, and there's the languages that it supports. Note that I put the asterisk next to TypeScript. That's typically where new features for CDK come out, um, just to be advised of that. OK, so a simple example here that you can achieve with CDK building a bucket that's managed, versioned with encryption, 5 or 6 lines of code, pretty powerful stuff. So you build your code in CDK, you're able to synthesize cloud formation. And then that gets you net AWS resources built to the template that you provided. So this allows you to type safely, autocompleting your ID, which is a huge benefit for those sleepy nights that you might be getting some work in. Reusable infrastructure components that you can rinse, repeat, and define your control objectives, Bu best practices and security controls all the while trying to provide a faster development envelope for your customers. So we talked about this in the agenda CDK constructs and aspects building blocks and crosscutting concerns. You're gonna hear that verb a lot cross cut. It might be a new one for you and we'll get into that later. So just to kind of bubble up constructs, uh, you might hear Kevin talk about level or layer 2 or level 2.5 constructs. There's some customization in there. So we start off with level one. That's where you have a direct 1 to 1 mapping to your cloud formation resources. You have L2 AWS constructs that are curated patterns with sensible defaults. Kevin will showcase how you take these sensible defaults and add in your own kind of methods and means, and then L3 where you're really customizing that resource to your corporation or your enterprise's standard. CDK aspects also add that crosscutting capability. And so in a way, this is the, the same uh constructs that I talked about earlier are defined here in that code sample where you have a very simple bucket, S3 bucket. And then you have a bucket in your layer or level 2 construct where you have encryption enables. Layer 3 provides you that pattern combining. I'm using cloud front. You're really customizing that resource to your, uh, that that simple S3 resource with cloud front to get that static web defined hosting. OK. OK, so aspects, this is a unique way to cut across your environment and note I put in feature enablement. These are controls as well. Think of controls as features in your environment. And so, uh, what Kevin will showcase is how you can take aspects and add these features or controls to your infrastructure as you need without actually modifying the code itself. Oh So here's the sample we're building in the capability to add tags, another feature to your environment without having to modify the, the original code itself using aspects. OK, so this is a little bit of a story of my, my past where I was an infrastructure as co-developer doing DevOps, um, and I had to do this, right? I wanna build cool things and then this happens. And before long you have a line outside your office that's literally happened to me where people were begging, hey, I need to get this shipped out. I, I, I, I submitted my PR. I need to move fast. I'm waiting for this customer and then you're just saying, OK, this is getting to thundering her kind of levels. I need to get away from this because this is driving my work life balance into oblivion. You need to be able to help these builders automate the things that they're trying to satisfy your customers, but in a secure, manageable way we can pipeline these things and then admittedly one person was like, I linted everything. My liter says everything is cool like just hit the, you know, approve on the PR which I laughed at. So traditional methods that you might be using today. Pull requests we talked about those pair programming sessions really good for cross training in my experience, uh, code walkthroughs, need some coffee, need some tea because that can get long-winded. Compliance checklists as you're going through this, making sure that as you read through the lines of code, it's not really optimal and gets tiresome very quickly. And then there's always the pre and post uh deployment audits that you're performing to make sure, hey, is this actually achieving my control standards for my company? Again, this is manual laborious, and it's way too slow, especially when you start getting everybody to identify to a couple types of automation languages that line starts to grow. OK, so you need to automate these compliance checks in your environment. You need to be able to define, integrate, test, monitor. And evolve this because you're never gonna get it right the first time you're gonna get really close, and then there's gonna be another security control saying, uh we need versioning on all the things. OK, great. Let me go back and, and make a change to that construct. Yeah. So, This is in a nutshell what I and maybe many of you have incurred in your day to day is you're going through, OK, governance and compliancy, technical complexity, operational impact, have to scale this, and it has to be secure. That's a lot and then you go into all the different frameworks for compliance depending on your industry, uh, the policy versioning of the controls that you have in your environment, uh, the control testing, how do you build that? Um, you have all these different threads inside that that pipe that you see here saying I need to move fast. I need to do resource con contention need to handle that control validation timing, audit requirements. The list goes on and you need to be able to scale this approach to meet your customers. So a key takeaway here we talked about evolve or I'm sorry, define integrate, test, monitor and evolve, and here's where the demos will touch into the the definition of that that life cycle. CDK aspects patterns for the integration of that? How do you test this into your shift left men mentality? And multi-layer validation. Now here are the things that we will discuss today in our demo and the things that we won't demonstrate, but might add some homage here. You're going to be able to rinse and repeat from what you learned today to tighten to that call it diamond quality of controls that you're looking for. You're going to monitor these resources and they come out. It's not you just turn a blind eye to them. And so think of things to constantly look at your environment for the controlled interfaces or the configuration items in your environment that could be config, describe, Resource Explorer to look at the details of those resources. And up next, I have Kevin over here who's gonna do the demo component. All right, perfect. Thank you. Hello everyone, uh, Kevin DeYoung. I am an SDE on the cloud formation team. I've been with AWS about 8 years, um, customer of cloud formation beforehand, um, crater maintainer for CFM Lindt if anybody uses that for testing your templates, uh, that type of thing. So that's kind of my past a little bit, um, I know just a show of hands, so many people use CDK now. OK, uh, direct cloud formation. Anybody? Oh, a couple, right, uh, terraform, any other types of providers? OK, cool. Alright, some double hands over there. All right, cool. Uh, just kind of curious where a crowd is at. I'm gonna try to, this is a little bit CDK focused, so we'll talk about some of the tools there, but there are some weaveins we can do with terraform, so I'll just try to talk about those as we hit them, uh, so you kind of have an understanding of some options and the tools that I'm gonna show and what may work on the terraform side of the world as well. Um, spider down there, yeah, yeah, alright, cool, I'm gonna switch to my to my code, uh, alright, great, um, so I'm gonna start with the basic kind of CDK app, right? Uh, so CDK, uh, just a general stack we have here, uh, it's gonna be super simple because we're gonna focus on the tools we're gonna integrate into this process, uh, not necessarily the complexity of my stack and the resources I'm trying to deploy. So we're just creating a single stack in this case, and that stack is made up of a basic bucket and what I wanna do during this demo is kind of just build this bucket up we're just gonna keep securing it, but as we do it we're gonna talk about some of the tools to provide feedback we're gonna adjust our bucket configuration we're just gonna kinda keep iterating on that until we kind of get it to a spot that we feel comfortable with, uh, so one of the first spots we wanna talk about is aspects, uh, they were mentioned earlier and kind of what they do. Uh, and you have some options in this aspect world. So what we actually have here is kind of a general, uh, aspect. Uh, this is kind of how they look like we just created a, you know, my company checker against an I aspect, uh, the interface and we implement it, and I created a function. I did this because maybe if I wanted to add things that weren't for a bucket, I could just add another function and just string them all together, right? There's ways to do that, uh, but then kind of show you this bucket aspect and what it does. So, again, may look a little runoff on the on the the wording there, but you get the idea. So we're gonna look for just bucket encryption. Are we using AWS KMS just managed key KMS for this example, um, and just validating our bucket has that configured. If anybody knows, right, the KMS key on that bucket is down a few levels and then array and the thing, so we have to kind of check all those levels, validate they're there, they're not there, you know, add an annotation, and we kind of keep going down until we validate that the value is AWSKMS. Right, so this is kind of a basic check. There might be smarter ways to write this, but basically this is the general way of writing an aspect, and we're kind of doing that. And what we're doing then of course is just adding an annotation. So we're just saying add an error, right? Um, this error is a string we can, you know, customize that customize that string to whatever we want, uh, provide any additional details that we wanna have in there or whatever, right? So that's what that aspect kind of looks like. Implementing this in our, in our uh stack, right? We're just gonna go in here and import it. I don't want This is where I get to hopefully type correctly and not make any mistakes. So we're just gonna import that, and then we're gonna do aspects of our app we're gonna add, we're just gonna instantiate the my company checker that we already imported. So pretty simple, right? We just uh added that in there, added it on to our application or stack there or app in this case. Um, what I'm gonna do now is just synthesize this template and we'll just kind of see what happens with the errors that come out of this. So I added a few attributes on there to kind of as we do this, there's a bunch of metadata extra resources that CDK creates. I just, it doesn't serve any purpose for the demonstration, so I just remove them just for simplicity's sake. Uh, so in this case, right, that aspect now brings back an error, right? So with this aspect, I couldn't synthesize that template. I can't deploy that template, right? It's gonna give me that feedback and not allow me to kind of proceed down that path. So now I know what this error is. I can work to try to correct that error. So I'm gonna kind of correct this quick and then we'll take a look at what we get created. So we're gonna do bucket encryption. Bucket, uh, and then again, remember that I'm trying to remember all the things and then we're gonna do 3 bucket encryption. We're just gonna do KMS managed right again bunch of properties there in CDK that I would have had to specify right all that nesting. This was pretty quick and simple for me, uh, allows me to work a little quicker in that respect. So now we're gonna synthesize this template. Take a few seconds and you'll see that we kind of get back up template now, right? So now I'm passing that aspect my template syn synthesizing I can deploy it everything's gonna kind of work in this case, right? And now you can see my bucket, right? I have all these encryption things enabled and all that kind of stuff. Um, one thing I'm gonna do though right now just to kind of show you the pipeline that we have, I'm just gonna actually submit this in and show you the deployment. I'll start. Simple So I'm gonna push to Maine, don't do this normally, I'm just gonna do it for the purpose of the demo. Um, and we're gonna just kind of show you what the, what the CICD process is behind the scenes on this. So I have a couple GitHub actions enabled on this. Uh, we're just gonna use GitHub actions because this is more about the tools, not necessarily the CICD tool, um, so I wanna kind of show what happens in this regard. I have two actions right now deployed or set up, right? I have the synthesize and cloud formation guard, uh, action, and this is just gonna run guard against my synthesized template so I can validate it's correct. And then I also have a CDK deploy action which is the one I'm gonna focus on right now. We'll get back to the other one in a little bit. And this action, right, is this gonna go through and do this deployment into my account so I just wanna show that this is kind of working or create some progress and it's going through and doing this deployment right now, right? So my bucket's getting created, um, we can see the template that gets created, right, so you can see it here, right? We have the encryption enabled we're getting that bucket deployed. This should finish up successfully if everything's gonna be nice to me. All right, great, complete, uh, so that's that, right? So we have the kind of the CICD processes in the back a little bit, you know, very vanilla, but are doing this testing and deployment, so we're gonna kind of trigger on these a little bit more as we go. So back to this aspects thing, right? So one of the things here, right, is I had to create this custom aspect. I had to put a lot of code in there to validate all these things, right? If I'm looking across all the resources, what do we have? 1300 cloud formation resources, right? There's a lot of resources there. There's a lot of things that you may have to know to configure all those aspects, all that type of stuff. Um, I'm gonna have a little bit more of an easy button for that, um, and so what I'm gonna actually talk about is a tool called if I have the window open, which is unfortunate. Um, We're gonna talk about CDKAg, which is a tool it's an open source tool, um, that kind of provides a bunch of aspects for you out of the box, right? So this is a great way for me to get started on my compliance things without having to write all these myself. Um, you'll actually notice I have, I'm gonna show the available rules and packs that are there, right? There's a bunch of packs that are just come out of the box. I just need to instantiate them, um, and put them in like I had done with my custom one, right? And I'm gonna get all this other validation without having to do anything. So I'm gonna go through and do that as well. We're just gonna see what comes out of that. So back here, This is gonna work pretty similarly. We're just gonna implement the AWBO solutions checks. Uh very similar line here. And new solutions checks. And we're gonna run that synth again as well to see what happens on this one. So I know there's gonna be a few errors, so we'll just wait for these errors to pop up so we can kind of see them, right? So now I have some more checks that failed, right? I have more best practices that I should probably be following and things I should be doing here. So, um, right again, didn't have to codify anything. I can just implement this out of the box. It's available to everybody to use go use it if you, if you want, uh, so what we're gonna do is fix this as well, um, and do this so you can see these errors, the AWBS solution S1 and S10. Uh, this one is do not, uh, have buckets use SSL, so we're gonna use the power of CDK again to make this really easy. Um, we're gonna do enforce SSL true. I'm gonna just synthesize this so we can kind of see what gets generated, see if we get rid of that error, and then we'll work on that last one. Alright, so that's done. All right, so we got rid of the one error. I do wanna bring up a, a capability in the CDK neg tool, um, and what it can do, uh, so you have an understanding of some of the capabilities here and where what it may or may not mean to you. There are ways to suppress this, uh, error. So what we're actually gonna do is just suppress AWBS Solutions S one, just to kind of show you what that ends up looking like in the code. So next suppressions. We're gonna add a stack suppression. There's actually resource suppressions and there's stack suppressions, so you have a few levels of configuration. I'm taking the easy way out, um, and I'm going to do a stack suppression. Why are you wearing out? OK, not the right number of values to them it's an array. These are all the things I gotta remember. Let's see here. So we're gonna, the ID is defined as this. So I can paste this one in here. And the reason For the demo. I'll just do it like that, and then we're gonna synthesize again. So the when this template comes out again like what I like about the CDK world right is this I got a whole other resource out of this right? I just did SSL in Forceru and it knew it had to create a bucket policy how to associate the bucket, the bucket policy, how to create a policy that allowed for SSL, right? I didn't have to do much and I just get that out of the box. So now you'll see now I have two resources here. I'm. You know, providing the SSL, uh, you know, policy that I need for the bucket resource, um, and then also that nag suppression also gets listed out in my metadata so I know that I suppressed that I can see that in my template so you kind of see how that works now in that part. So the next thing right is I'm gonna kind of go shift a little bit more into the pipeline a little bit and then we'll come back to the code. Uh, I wanna show some of the stuff that we can do to verify this on the server in the pipeline side of the world. Uh, so there's a few tools I kinda wanna talk about next. Um, I'm curious if anybody's heard of these, uh, anybody heard of cloud formation hooks? Couple people, OK, all right, so we'll start there. Um, let me flipping windows a bunch, sorry, um, so hooks. Hooks are uh a capability on the cloud formation server side, right? that provide validation of that payload as it comes in so we can validate against a template against a resource configuration, and we can take that configuration and we can validate it against a bunch of rules. Um, so this gives me a little bit more validation on the server side, right? So the neg stuff, that's client side, there are probably ways I can just remove it if I wanted to push it through my pipeline, right? Now I'm doing that trust but verify step of verifying on the server side that we're actually doing these, the doing the correct configuration. Um, and so hooks allow us to do different configurations in different ways. Um, what we're going to focus on is the guard hooks. Um, anybody using confirmation guard. Couple people less hands on the hook side. All right, um, so GARD is a DSL that works on cloud formation YAML or JSON templates. It works on any YAML or JSON template in fairness, so you can use it for anything, uh, but we're obviously using it for cloud formation today. uh, so this is also an open source project. It is written in rust. It's super fast and quick, but it kind of creates a custom DSL for writing those rules. That was me, um, so, uh, like what you can see now in minus the bucket name, right, and checking for that bucket name, right? We're checking for that same encryption key, but now it's kind of in a more succinct, you know, thing for me, right? It's validating that all those properties and all the levels are set, that the value when I get down there is set to AWSKMS, right? So all that's kind of condensed more into a DSL. Now the good thing with this integration of guard and hooks is we can make guard hooks really quickly and easily. It doesn't take much work, and we kind of get all this validation on the server side, um. But before I do that, the other thing I want to call out is there's a registry rules. So kind of the same thing we have with CDK neg, we also have with guard rules. uh, so there is a guard registry out there that has a bunch of pre-compied rules, right, that you can just leverage right out of the box and get going on. I would say it's open source, so trust but verify your work, right? Check it out, but a lot of the things you probably wanna check are probably already written as good rules in there, start from here and then, you know, iterate from there. So the one thing, right, so like the one thing I wanna call out, um, you saw the CDK neg packs, right? There's like 7 of them in there. There is a bunch in this category, uh, there is a bunch of rule packs already written, right, that you can just leverage out of the box. Um, why I want to call this out is what we're gonna leverage is this CIS AWS benchmark level one rule set. Uh, it's a little simpler and less complicated for demo sake. So we're gonna start with this and implement it and then you kind of see how this works from a hook side. Um, and like some of the other options we have. So, I'm gonna show the hook configuration we have. So I already created this hook. It's technically in warm mode, um, and I'll show kind of maybe what that looks like on that deployment we had, and then we'll run it through as we change it. So I just want to talk a little bit about the configuration options here. So when we configure a hook, we can set it up for a stack, um, resources, change sets, cloud control API, and there's different reasons why you would do each one. I've chosen resources for this one. Um, you know, stacks is very good because it gives you the whole stack template. So if you have to write a rule that crosses many resources, this is a, you know, do a stack template, right? The resource one is just gonna give it the payload of the resource, um, but what's really handy from it from the server side is all the intrinsic functions that could exist are resolved, um, so I know the final values I can validate those final values. I don't have to worry about those things. Uh, the cloud control API is also an interesting thing to note. Uh, so for those that don't know, right, cloud control API is a restful API, uh, that works off of basically the same code that makes up the cloud formation resources, so you get your create, read, update, delete list handlers and more of a uh API. Uh, so actually we've created this and worked with uh companies like uh Palumi and uh Terraform, and they actually have providers that work off of the cloud control API. Uh, so you can actually if you were using those providers and enabling these hooks you can get that same validation for cloud formation for Terraform for Palomi, you know, depending on how they're setting up that code on their side. They have to use that that particular provider for it to work. It's not just gonna work for the, uh, the older AWS provider, but I do want to call it out that there is some capabilities there to kind of cross, cross, uh, infrastructures code tools. Uh, in the actions, right, we can select to create update delete. We don't really care about delete in the scenario, delete the bucket, go for it. Um, I currently had it set at Warren State. There's two states available on a hook. There's warn and there's fail. I'll show you what a warren looks like, but the fail will actually fail the deployment. It will cause my deployment to fail, you know, go, and the stack will roll back. Uh, you can set up some filters, some different things if you have some like, maybe we have a stack that we're deploying that we want to exempt from these rules, uh, whatever those things, there's some filtering we can do here. I don't have any of that enabled, but, you know, you can do some work there if you have some standards of how you'd want to enable that. All right, so I'm gonna save this. All right, and then what we're gonna do is we're gonna go through a deployment. So I'm gonna create a branch. I'm gonna create a new branch. clear that part out, I guess, um, and we're gonna add these files. Uh, my somewhat secure bucket. If I can spell right, nobody judge me for that. And then we're gonna push this up, and I want to show you a couple of other things that happen here along the way. Hm. No. I bet Uh, we're gonna create a pull request from this. Uh, so create a pull request. We'll kick off some actions here. So, again, I have two actions, uh, that are gonna go here. Uh, this one is the kind of the main one. I'm gonna show this one just to show you what the, uh, The uh sorry, the cloud formation guard GitHub action that exists out there looks like, so what it's gonna do is synthesize this template and then it's gonna validate it against guard, right? So even though it's, you know, cloud formation guard is written around YAML JSON, we can still synthesize that template, we can still validate it. And so now you'll see a bunch of errors that come out, um, there's a prettier view for this, so I'm not gonna spend too much on it, but you get the idea of the payload, there's, it's a failure of the past. I don't know. I messed that up, sorry, I apologize, should have failed, um, and there's that part. I'm actually just gonna merge this because it'll be easier this way. Do I wanna do that? Yeah, I'm gonna do that. Um, and go. So I gotta check the action configuration, I don't know why that passed, it did fail here. Must be the rules I have written. So I'll show you kind of what it looks like when it fails. Should have been done there on the fail and then if you're lucky or not lucky it does I'll put in erra format so you can kind of get all the rules in a little bit easier consumable way on my PR right? so this GitHub actions available it's part of this uh cloud formation guard repo, uh, and it provides that report. And then on the deployment side. I show a little bit about how this looks. And did I failed something? I did fail something. Hang on. But I enabled that Do do do Of course I got rid of the old runs. I have succeeded. to see a successful audition. All right. Well now you're. Fun times, uh, let me see here. Oops. I'm gonna check it locally here. As many times as I run through this, I get the errors, but then it still passes. All right, um, what I may show, if I can, is what it should have looked like, even though I'm a little confused about why it didn't trigger. Um, so hang on a sec here. Um, All right. So this is what it should have done. Um, I'm not exactly sure what I messed up, but if maybe through a few minutes here I'll figure it out, um, but what usually happens right is this is this is what kind of happens in this stack failure. I get back my, uh, guard failure rules on that hook, um, and I can see that those failures are here. I can see the types of rules that I failed, um, since it's failing locally. Oh, I'm still confused. I don't know. I gotta figure out what that was, uh, so sorry about that. Um, the other thing too to note is we have this S3 bucket where the, the output format gets put in there. So if you have a little bit more verbose output, you can put the full output out there. This kind of gives you a very bebbreviated output, uh, so we can start to see some of these additional errors, right? Uh, public bucket being the one and then bucket versioning being enabled. And uh so these are again are additional checks we wanna pass through um I'm gonna actually correct those so we can get this working. The other thing to note is I built this locally so we could test this locally as well that was this command that we have, uh, where we're synthesizing this uh template and then we're validating it, um. You know, doing the CFN guard validate so we do a synthesize we can just pump it into guard it will do the validation I can get the same feedback locally so again you can start to see the things like the restricted public access is here and those types of things, right? So we're gonna fix this locally. And and go through that. So hang on here a sec. I'm gonna pull my branch here just to have the most updated code. Somebody might have found my error somewhere out there, um, public. We're gonna do public block public access and then we're gonna do that one and we're gonna do block all. So again, right, there's a bunch of properties and failures there. um, I'm gonna do another synth on that just to show that the reduction in the errors, uh, so there was a bunch there, right, like block public right, block public read, right, with one property in CDK I can get a bunch of those removed, so now we're just down to uh bucket versioning. In this case, right, we're saying vision and configuration is not even there, and then additionally the status isn't enabled, that's so there's two little findings there from that side. Uh, so the next thing I do want to talk about, uh, we talked about a little bit in the demonstration as well, is aspects again. So I'm gonna circle back a little bit to aspects. So one of the cool things is that we can do these add errors, right? We can, you know, alert people that they made a configuration error, but the other thing we can do is just force the compliance to be there, right? We can actually write these aspects that change the properties back to what we need them to be. And so what we're actually gonna do in this case is actually just set it on the aspect and correct the error here. So we're we're gonna go node, uh, versioning, configuration, and I'm just gonna do this like this, um, enabled, oops, status, oops, my bad. Now I'm getting it status eagle enabled, and we're gonna save that, we're gonna run this. So you got a few options here right when you're using this aspect world right we can we can alert people that they made a configuration error, tell them to correct it or we can actually just fix it for them right and put these in these aspects so the certain organizations that found these to be very powerful ways to kind of drive and help uh their developers get those compliance uh resources uh really easily. So I'm gonna kind of show the result of this, right? that block all got us uh all those properties set, uh, we got that version and configuration set as well, right? So now we got all these things set for us, um, and, and working. So the last thing I wanna kind of go through is this idea of deploy this again, but since it already works, it should work again, um, maybe I'll take a few seconds to figure out why it didn't do it, um. Uh, what's that? Did somebody have any notice anything? Uh, did I have suppressed? I missed that. Oh, I still had suppress on. Oh, that would be a problem if I did that. Um, let's see here. Let this go You're not. I'm gonna look at that while we do this or while that goes, so it should hit the update here soon, um, did I even get the events that of the book triggering? I did get the hook triggering, did I not save it when I left? I thought you did. You got it. No, I said it to fail. Hm. What did it look like? What did it look like now doesn't see. That Hm. I don't know what I did wrong there. Maybe a timing issue. I don't know. to look into that. I'm not exactly sure. um, I saw my previous stacks. I've run this a bunch and every time it fails except for that time, so go figure. Um, so there we went through, we updated it again, uh, my hooks passed, of course, and, and went through, so that way, right, like. Uh, all those hooks should check out, um, and, and comply, right, and then allow you that resource to be developed. Uh, the other thing too I want to talk about a little bit with hooks is well there's an easy one for the guard, you don't have to use guard. You can use lambda. You can write your own lambda function. Uh, so sometimes organizations find it useful maybe to pull other sources of information, uh, maybe you want to check tags for certain compliance checks and certain rules and the values of those. You can write lambda checks and do that same kind of validation with the hook side of the world. Uh, we're just using guard for this demo to kind of show the easiness of doing that if it works, um, so the last thing I wanna talk about right is, OK, so I kind of got this working. I had to settle these values. I had to go through a bunch of iteration, right? I had to fail, fix it, fail, fix it right as I was proceeding through this process. Uh, the next thing that we want to talk about a little bit was related to the, uh, construct methodology, right? This idea of this L 2.5 construct is commonly called, it's the idea that we can kind of provide a bucket configuration that already complies with my standards. So what I have here is another bucket configuration, right? So this is a construct that I created. And it kind of extends the L2 construct that already exists, but it allows me just to apply these properties, um, you know, for my users and the users of this construct. So you can see I already have a versioning enabled. I have enforce SSL KMS right? all those settings already set right here. Uh, what's nice from this, right, is I can bend this out to my developers. They can consume this right and use it without having to necessarily worry about all these values and all these settings that I may have to have them set for their compliance and security reasons. So when we go back here, right, um, so one of the things I'm gonna do actually is just sent this out so we can kind of compare the results. Always takes a few seconds. All right, so you can see all we got all these, the bucket stuff, all that stuff, right, our bucket 487943879, um, and what we're gonna do is just replace this. So my company bucket and what we're gonna do is just do a new one of those. And now I can remove all these values. I don't need to know these, right? I just know I'm gonna get my company's configuration for a bucket that meets our compliance standards, so I reduce this down to this, right? And now when I do my synth. You the sequence finding where you know it's You'll see that I still kind of get it synthesized out um you'll see all those same kind of settings are still configured and still enabled here, right? Uh, it's just much less lines of code that I have to worry about as a user, you know, inside my organization about how to, you know, deploy a compliant bucket, um, so yeah. I think that kind of sums up the demo portion. Um, I think I got everything. Yeah, all right, groovy, double checking. Um, so yeah, any questions on the demo side of the world or anything there? No, not yet. OK. We'll have some more time too at the end, um, Kevin, thank you so much for the demo, man. I appreciate it. I hit the button. Yeah, I got you. All right. OK, just to kind of wrap things up and then we'll have some Q&A. I'll come out to the audience given the, the AV setup that we have, and I'll repeat the question you guys have out there in the audience that everybody can hear and and Kevin can tackle it or I can tackle it. So ADB is cloud formation, right? as you're building these things, think of a castle, right? That's a direct correlation of the building blocks of your cloud environment. We talked about CDK. These are smart building blocks. They know how to wire things up. Kevin talked about, I have a bucket. I need to build it. Here's my construct. Boom, it has the SSL, the encryption, and the policies that aligned to your corporate needs. You talked about CDK nag. Think of this as that that picky friend that's always saying, Well, you could have done it better, right? It's always in the wings helping you build your environment cleaner, cleaner so that you're not having failures in the pipeline. You can catch these ahead of time. You have the ADS CDK aspects. These are the, the magic paint you built your castle, but you forgot to put in a window or I forgot to add my SSL across all the things or bucket versioning. Uh, that's the really powerful component of aspects is it allows you to not go into all your different code repositories, and I've been there, it's very painful, and make that modification. You can cross cut around all your repos and add those magic windows. Um Kevin talked about cloud formation guard. This is the rule book, right? It's there to align to your code, help you synthesize locally if you want, and say, hey, are you passing or, or not? And then Linting, as I kind of joked about it earlier, it's definitely helpful, but it's your cleanup helper. It's looking behind the scenes as you're writing the code, capturing things that, you know, auto completion helps, um, but the lining is definitely a welcome friend in this regard. Some key takeaways, uh, this is the repo that Kevin has and was working from, so feel free to grab those QR codes. I know I tried to simplify it. I know it's 2 in the screen. Um, I'll pause here so folks can grab it and I'll go into the next one where we have the, um, the other QR codes to other components of the talk. everybody good? OK, cool. I'm gonna go to the next slide. So that's the AWS guard rules registry that Kevin was talking about, uh, and a quick little nod if you're a security hub customer, this is very relational to the guard rules registry. So give it a look. You'll see, you know about conformance packs, the rules registry should read very similar to that, uh, CDK nag as well. So I'm gonna let people take photos, gentleman over there. All right, thank you so much for participating and I appreciate you all coming out to Philadelphia for reinforce. Don't forget that GRC 441 talk. I think it's tomorrow. Tomorrow there's, there was two sessions. There was one earlier one and one tomorrow. Yep. Cool. Thanks, folks. Have a great reinforce.
