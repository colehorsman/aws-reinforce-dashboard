# AWS re:Inforce 2025 -Move fast & stay secure: Lessons learned from the AWS prototyping team (APS341)

**Video Link:** [Watch on YouTube](https://www.youtube.com/watch?v=tv-gMOTPI7U)

## Video Information
- **Author:** AWS Events
- **Duration:** 54.2 minutes
- **Word Count:** 8,871 words
- **Publish Date:** 20250620
- **Video ID:** tv-gMOTPI7U

## Summary
This session from AWS re:Inforce 2025 is presented by a member of the AWS Business Industries prototyping team, focusing on how they maintain security while rapidly developing prototypes for customers. The speaker explains that AWS has multiple prototyping teams globally that work with customers for 6-week periods to build initial versions of solutions, with security being a fundamental priority despite the quick turnaround time.

The presentation addresses the technical and organizational approach to maintaining security in rapid prototyping, including the Security Champions program, which embeds security expertise within the prototyping teams rather than relying on external security reviews. The team emphasizes infrastructure-as-code using CDK, leverages Amazon Q Developer for coding assistance, and employs various automated security scanning tools while still maintaining human oversight for critical security reviews.

Key outcomes presented include the successful implementation of a comprehensive security framework that allows for rapid development without compromising security standards. This includes the use of managed services to reduce security responsibilities, implementation of automated scanning tools, and the development of a prototyping engagement pack for customer accounts, all while ensuring proper handover of secure code to customers after the 6-week period.

## Key Points
- Prototyping teams work with customers for 6-week periods to build initial versions of solutions
- Security Champions program embeds security expertise within prototyping teams
- All infrastructure is deployed as code (CDK) with no direct console manipulation
- Extensive use of automated security scanning tools and static code analysis
- Focus on managed services to reduce security responsibilities
- Manual architecture and code reviews remain essential for critical components
- Prototyping engagement pack provides security baseline for customer accounts
- License compliance checking is crucial for all dependencies
- Work is often conducted in customer accounts, requiring highest security standards
- Regular security reviews and automated alerts for security violations

## Technical Details
- Primary development languages: Python and JavaScript
- Security scanning tools used:
  - Amazon Inspector for Git repository scanning
  - Ash for multi-language code scanning
  - CDK-nag for CDK code analysis
  - Checkov for Terraform scanning
  - CFN-nag for CloudFormation
  - Snyk and Bandit for Python
  - npm audit and ESLint for JavaScript
- Common AWS services used:
  - API Gateway
  - Lambda
  - DynamoDB
  - Bedrock
  - Cognito for authentication
  - WAF (Web Application Firewall)
  - Amazon Verified Permissions
- AWS Config for continuous security monitoring
- Prototyping engagement pack includes:
  - Config rules
  - CloudTrail
  - Budget monitoring
  - Security baseline configurations
- Architecture diagram generation from CDK code
- Automated alerts for security violations (within 15 minutes)

## Full Transcript

Thank you very much for coming to this talk. Uh, move fast and stay secure lessons learned from the ABS prototyping team. This is actually the 3rd reinforce where we do this talk. Has anyone here been so crazy to come to this talk before? You are awesome, sir. Thank you. That's, that's amazing. Let's see if there's some new stuff this year for you. Uh, let's just dive in. So first off. Uh, I'm in an unfortunate predicament because I was supposed to be here with my colleague Tiago. He's not with me on the stage right now, and he was supposed to do the code demo, and he had prepped that and it was in his head, so I'm doing it now. I only learned this morning that he wouldn't be here. So I do ask for your forgiveness is that if that won't be as smooth as you would otherwise expect. Um, all right, let's dive in. So, uh, who has worked with the prototyping team? That there was a bit of a lie in this question because the prototyping team doesn't exist at AWS. Which one did you work with? OK, yeah, we have like 14 or so, I think. So I'm uh part of ADbiz Industries. We have a couple of these vertical prototyping teams and we work with customers, so I work with all customers in what we call ADI industries, which, for example, is BMW. I can't name them all, but BMW I can name because they're always very vocal about working with us. And, and all these prototyping teams work in a similar way, and I'll be, I'll be talking to you guys about that today. So, so here's the story. Prototyping is an investment of AWS into our customers in the sense that we offer our time and expertise to work with customers for a period of 6 weeks to build an initial version of what what it is that they want to build on AWS for them and with them. So we're a multidisciplinary global team. I'm personally the only one who is based out of Amsterdam, uh, but we have teammates in, in Munich and all over North America, and, and, and other prototyping teams for example, are in Australia, Singapore, you name it. We try to work like Amazon does itself, working backwards from a customer problem so we don't like to do. Uh, technical things, just because it's cool or because it's hyped, we want to have a customer problem and then figure out the best solution. So we, we try to work, we, we, we try to work backwards there. Uh, we try also only to do prototypes that are, when you start them, not sure that you'll actually be able to succeed. If you know ahead of time that what you're about to do in those 6 weeks will work, then it's not a prototype. All in all, this, this, uh, this will help customers go to production. We hope more quick because instead of customers sometimes being hesitant, not, not really sure how to do things, what the best way is, they have this period of 6 weeks. And, and, and then we learn together with them what, what a good way it could be for them to go to Prat. And at the end of those six weeks, we hand over our code, uh, and we do some handover sessions and such. people So Security is still very important to us. Security is job zero. You've probably heard that it, it's our top priority, um, but obviously since our time frame is 6 weeks, we, we need, we need to hurry up. We need to move, move fast so we don't have per se the time if you will, as you would have in larger implementation projects of a year or whatever where, but, but still, uh, we like to pride ourselves on having a very high security bar and that's uh. What we'll be talking about today, one of the reasons is that uh many prototypes that we do actually take place at the customer's account. So sometimes that's the most easy scenario we can just create a demo in our own accounts, but not not all demos can be stand alone like that because some customers, they want a demo, for example, to see if an AI agent can work with their data, and if it is not their data, then the demo is not convincing so then we work in their account and that obviously entails that we need to. Maintain the highest security bar. So here's, here's our approach. I'll talk to these points, um, let's just dive in. We have a program called Security Champions. You may have been to talks and at this reinforced that would talk about the Guardian program from AWS. Um, and this is similar but focused on prototypes, and the idea here is we don't want a separate security team to do reviews of prototype code before we hand it over to the customer because that would just take time and Potentially be a frustrating experience because because we've worked together for 6 weeks and now the customers eager to get the code and then we first have to go to another team to get the review and so on and so forth so we decided to instead train a number of prototypers themselves to be aces in security and we call those people security champions. So these guys work on the prototypes themselves and and they do reviews and, and due diligence as they go and also at the end of the prototype they do a review. Uh, but a quick one, and because it's, it's your peers from your team, uh, that's a nice way of working and these security reviews are often, uh, how do you say this fluent. We code, uh, we, we do all our prototypes code first, so there's no clicking in the AWS console. We, we only do demos where we deploy everything through CDK. And the story there, of course, is that after those 6 weeks, we want to hand it to the customer and then give them a proper chance to recreate it in their environment without having to do a lot of clicking in the console themselves. So we, so we do like to give them CDK templates. Um, Q Developer is our premier coding companion. I will do a demo of that. Uh, nowadays, Amazon Q developer is becoming bigger and bigger for us, especially since you can now use MCP servers in there so you can wire up new tools that don't come out of the box, and, and, and a lot of, a lot of problems that you have to deal with on a day to day basis are already like solved out there, so the LLMs are pretty good at solving them for you. So a lot of uh plumbing is, is taken care of. Of course, not all, because as I said, prototypes, if you already know that it's gonna work, and it's not a prototype, prototypes always have new things to them. So luckily we're we're not out of a job anytime soon, but Amazon Q Developer does help. Because we, we write everything as code and don't do anything in the ADBS console directly, we, we deploy everything from CDK. We can also like do static analysis of the application code so we can run a lot, a lot of tools such as CDKNA to make sure that all these things that we, uh, build and hand to the customer later are secure. But we also still do manual architecture and code reviews. I don't see that going away anytime soon, so the review process at the end of the prototype, even though we have all these tools and Amazon Q developers is awesome, still entails human beings, the protosec champions like I just said, to go over the diagrams and to look at the most important pieces of the application, for example, the API entry points and the security related pieces. That's still there and and and I truly believe that will stay there for a very long time even though I have some colleagues who are super deep at building agents that can do security reviews automatically. So here's a couple of tools just to paint the picture a bit right of that we use daily like I said, you developer, Amazon inspector, a new awesome feature was was launched is reinforced so that you can do scanning of Gitlab and Git repositories with it, which is super cool and we'll be using that more and more. So next year when I do this talk again if I do, uh, it'll probably be higher on my list. Ash is a tool that we use um when we want to run scans locally, and Ash is, if you know it, it's basically an open source library from AWS that runs all kinds of code scans. So if you just get started with code scanning, you don't know what to pick. Use Ash because it supports all, uh, languages. It understands cloud formation, CDK data form, Python, JavaScripts on and so forth. So that's a great catcher mole. Library CDK neck, as I told you, I'll talk more about it during the code demo is super important to us. Uh, because it just makes sure that our CDK code, uh, is, is top notch. Get secrets because we want to prevent people from accidentally committing stuff to Git. Python code, we run rough and bandit on it, open source tools, JavaScript, MPM audit, ESLIN. It will probably not be a surprise to you that Python and JavaScript are our top languages because we only have 6 weeks, so writing prototypes in Rost is probably not the best idea. It just takes a bit more time, right, to build functionality in that language, but Python and JavaScript are our best friends. SEA is a great tool that we often use because like Ash, it, it supports a lot of languages so it understands Python and JavaScript. If you would use rust or Go it would understand that as well. Sonar cube is an is an alternative to that. And when we don't use CDK, sometimes we don't use CDK for reasons, then we would use if we use cloud formation, we would use CFNAC, and if we would use terraform also happens. Because customers sometimes are deep into terraform and they ask us, would you mind doing it from terraform in the get go and then we use Chekhov because that understands terraform. So, so that that story that I just told you that was about the scanning that we do on the code before we deployed it, but then you deploy your code and who knows, maybe a developer actually does go into the AWS account to to collect some stuff together because in some cases that's just quicker spinning up an easy to to for for uh to become a bastion host or or a quick thing you need. For those reasons to catch, to catch the things that go on there, we use AWBS Kong and uh this is a little bit eat your vegetable story because AWSkunfe is a service that has been around for a long time and I'm just trying to make the point that that's still a very relevant service because it keeps track of everything that happens in your AWS account. So even if people don't use CDKA and deploy uh insecure CDK templates, let's say they, they would. And is still there to to make sure for example that you don't have public as 3 buckets. We have other remediation and email alerts in cases where, uh, where people would violate the conflict rules. So if you would make a bucket public, you'll you'll get in the security ticket like within 50 minutes, and you don't want that because your manager just copied in on it and if you don't act on it, it will, it will go up the chain. That's a great way to keep everyone honest. When we work in customer accounts, customers, so I, I, I work for a prototyping team. We do a lot of work for big enterprises, BMW like I just mentioned, and they have this all in place. They have a security team of their own, but we sometimes also work for customers that are newer to AWS and they don't have a lot of safeguards in place that that we would want them to have and for that, uh, the prototyping teams have developed a prototyping engagement pack. Which is a CDK template um that we, that we deploy in the customer's account then at the start of the prototype. It has a lot of config rules like the one I just mentioned, for example, that you don't, that you that you're not gonna have public has 3 buckets. EBS encryption is turned on, so on and so forth. There's cloud trail in there. There's a budget monitoring in there. I'll show, I'll show a diagram of that in a bit. Uh, I see the order of this is not right, but doesn't matter. Another important thing is that we like to use managed services. So if you use EC2, for example, great service, but then a more security responsibilities on you, right? If you use lambda less security responsibility is on you. So we like to use uh lambda for that reason because it, it when we don't have to worry about security things like patching, then we get in those 6 weeks more time to build features for the customer. So we like surf for this. So if you pick a random prototype that we built at any moment in time. There's probably 80% chance you will find API gateway in there, lambda, the 99% chance Dynamo DB Bedrock. Um, and we love those services. And at the bottom are our favorite security services. So usually we use Cognito because there always needs to be an off an off component to the prototype most often, right? Um, Cognito is is is meant for consumer authentication, but it also serves well during prototypes because it's the leanest and meanest way to add uh sign into your applications web application firewall. And if we need elaborate permission schemes in our apps, we would use Amazon verified permissions. When we're done with the prototype, like I mentioned, we still have this manual review. What do we do then? So we look at the architecture diagram and, and we look at so what and we have a chat with the team like what did you guys build uh and we go over the architecture diagram we make sure that it's a good representation of what actually has been built. So a lot of builders in our team generate architecture diagrams. You can do that off of CDK. There's there's libraries tools to do that. The, the output is very ugly, but it is, uh, uh, right. Whereas if humans create a diagram, they might have forgotten to draw some arrows that are actually there. We make sure the infrastructure is compliant but basically looking in the ABS account at the ABS config uh rules to see if they're all green. We code review manually, not all the code, but the important security hotspots of the code like API entry points, as I said. We make sure the team ran static code analysis and fixed all the issues there, not, not like small and medium because if you've run static code analysis, you probably have, you'll you'll know that it's always false positive, uh, galore. It's, it's, it's they, they raise a lot of error. So this is a, this is an an a topic where you need to be pragmatic and what we say is all the critical and high issues should be fixed. Or, or you would mark in the source code that they're not relevant, which also works and then we would in our review go over those uh statements and make sure that it's actually the right thing to suppress them. And a very important thing to us is to make sure that the licenses of the dependencies we use are are all open source, so it's if you're not careful, uh, during prototypes, obviously you will draw in libraries because 6 weeks you don't have time to develop everything from scratch so you're super happy if for example there is a react library that has a nice thing that that's just what you need. Uh, but you always need to check the licenses, and that's something we're very adamant about because we don't want to have open source code that's GPL license, for example, and then we hand our stuff to the customer at the end and then they end up, it's not our problem legally if you will, but it's of course not nice for us to hand such code to customers because then they would be running GPL code and who knows what problems they get into so we're adamant that we do not do that. So about raising the bar on security, uh, and this is for the gentleman right there, new in this talk this year. Gen AI is becoming ever more important, uh, and I'm saying this not just uh as a marketing statement, but I'm, I'm really, I really mean this it's, it's more important to us. We use it every day and every day more. And I'll, and I'll demo that in a bit to you. So things we, we use it for, for example, we have a lot of security rules at Amazon and in fact reading all the security rules is a lot of time and by the end, by the time you got to the end, you would have probably forgotten the first rule. So we use a chatbot there, just a simple rack chatbot that helps people ask security security checks, uh, questions, and it would check the knowledge base and and give you an answer. We have secure code templates, so we have developed a lot of prototypes by now, and we make and those are all secure because we've done our due diligence there and we use that now as templates. The the story there is if you want LLM's assistance in building something for you. You can do it naively. You can just ask the LLM or Q to to give you a CDK snippet for a cloud front NS3, right? And that will probably get you a CDK snippet for cloud Front NS 3, but is it secure? Probably not as secure as you would want or Or at least you're not totally sure about that, right? Uh, because you, you haven't reviewed it, but we have done this. We have, we have created hundreds of such websites, so we have templates of code with cloud front and S3, make sure the excess logging is turned on, make sure that the S3 bucket only allows TLS and so on and so forth. So we want the LLM actually to use our, our template. And, and this is what LLMs are great at. They're, they're better at looking at text and then copying relevant portions of the text into new text than they are at producing the new, the new text from their memory. They're very good at Fibonacci, but, uh, in our opinion less good at, at, at more complicated security matters. Um, queue developer also does security reviews. You can just ask it to do a security scan on your code. This goes back to the, to the prior slide. And we use generator VI to create test cases and documentation. So one of the most tedious parts, I say this personally about about handing over the code is that now you also of course need to write a readme file, right, because if I just hand over a bunch of CDK templates to the customer and and 20 Python files with a lot of lines, they won't be happy, and it's always kind of tedious to write that out. And this is what LM shine at because they are very good at reading your code and just generating a reading. So that's awesome. That gives us even more time to work on features because we don't have to spend as much time on documentation. And the same goes for test cases. Normally we would not write test cases, but these things have become in regional through generative AI. All right, so let me, let me show some code. Um, this is a little bit of the context. I'm gonna show a bunch of things. Like I said, my colleague was supposed to run this, unfortunately, uh, he fell ill. I'm here now. I will do my best at making it fluent. The context is, this is an application. That that we could well built in a prototype and we've built many like this so imagine the customer has uh wants to have a chatbot for the employees to access company internal knowledge, let's say pretty, pretty simple. It would look like this, uh, we would have cloud front because if we want to make it, uh, public their employees should be able to access it over the internet. It's going to be secured with Conito. We'll have Wolf and shield there. It will run on ECS. It could also run on lambda, but, but ECS sometimes is handy, especially for chat applications because they have stayed and that, that can work a bit better in ECS. Um, and it uses bedrock, the LM Dynamo DB to store to store conversational memory. Right, first I'll show you that chatbot that I was talking about, uh, no. That's what you get with live demos. So these are our security dogs. They're big. They're pretty big. And this is why we can talk to it. For example, sharing code with customers. We don't just email code to customers. We have rules Yes, that's best. It's best if the customer actually has a get repo that they own that is under their responsibility and they, uh, they can give us access and then we can just push, push it there. Must be private repository and so on and so forth. This, this obviously helps, uh, especially newcomers to our team, right, to understand how do I do things here. You can, you can build these things uh yourself if you want with tools such as Amazon Bedrock agents, Amazon Bedrock knowledge base. That's pretty, pretty doable actually. I wanted to show you the prototyping engagement pack. So this is that template that we deployed to customers when we get started with a prototype. If they don't have such things in place themselves. This is your basic set of security guard rails. This is a CDK stack. So all the code, I could show it quickly to you. There's a lot of CDK code. CDK ends up being cloud formation if you didn't know, so that you can CDK deploy this, it becomes a cloud formation template in their account. The cloud formation deployment. Let me go to the diagram. And this is what you get. A cross account role was created because we assume a role into the customer's account and that role needs to be scaled down to the right privileges so this template creates a role that is scalped down. There's things in here you don't have to read this, but like budget. Budget monitoring so that customers won't say to us, hey, what the hell, that's a large bill we suddenly have since you guys are here, uh. A lot of AWS config rules like the uh like the S3 bucket rule and so on and so forth. There's even uh mechanisms in there to fire off alerts into Slack or MS Teams or email whatever it is that works on that project and like I said, I, I call this eat your vegetables because this certainly isn't new. If you've come to reinforce 5 years ago, you might have seen the same very uh diagram, and I'm just saying it's still relevant. Right, let's talk a bit about CDK neck. Let me open that. So if you write, not cloud formation but CDK that's cool, but if you want to ensure that your CDK code is secure, you can use CDK neck and it and it's one of our favorite, favorite uh favorite libraries and the beauty is that CDK neck, you see it here in action whenever you would run CDK Synth or CDK deploy. Neck runs on top of your stack and throws errors in your face if there's errors. So it would say, hey, you, you are actually deploying a public bucket that that you don't want that, right? Where you actually. Have a cognito user pool that doesn't require MFA. That's not right. You should require MFA and so on and so forth. And, and CDKA has a bunch of security uh rule sets. My team uses the AWS solutions one. Uh, that's basically a rule pack with a lot of rules, not just S3, but all across the board also for bedrock and, uh, and, and other services, and that's also the same rules that that our professional services team uses. So if you're doing CDK and you're not yet doing CDK neck, I recommend you to start doing that and, and you could very well start with this rule pack maybe. Uh, if you're and, and have a look at the others, right, if you're in, in healthcare, maybe maybe this rule pack which is probably way more strict, uh, will be of use to you. So a little story about how we used to still often do uh reusable CDK constructs. Uh, da da da da, where is that again? Yeah. So let's say you want to have a website, Cloudfront S3 standard. You want to host a react web app in the cloud. If you want to do that in, in kind of like in a what the what CDK net considers a secure way. You have to have a bunch of things in place, such as you need to have access locks. VX weapon might not be the best example for access logs, but still it can if, if you're ever, uh, like targeted by DOs or hackers or whatever, it is of course important to be able to see in the logs who was actually reaching out to me. You need the S3 bucket, you want versioning on so that you don't accidentally lose things that are important to you. You want SSL on. Then you probably want to have web application firewall in front of cloud phones. Then there's a catch to WF because WOF always, if you want to attach it to cloud font, it always must be in US East one. Uh, but if we have a prototype in Frankfurt that doesn't work, so, so there's, there's, uh, in, in this reusable piece of code that I'm not showing you, there's like statements if statements if you will, to make sure the. Is that here that's this. To make sure that the wealth is added in US East one. If your stack is currently in US East one, you can just add it. If it's not, it goes to another stack. But the point of this is you don't have to remember this obviously the point of this is as you as we scroll down through here, you see that actually hosting a react web app in a bit of a proper way, if you will, there's quite some code to that, right? You don't want to repeat that every, every prototype that you do and this is just a simple example of a of a of a website, right? Imagine more, we have those as well, of course, more complicated uh examples like, like databases and whatnot. And for that reason. Uh, what we do is we bundle this code into custom constructs. So this is basically our own internal library of CDK code that we know, uh, is feted and is compliant with CDK neck. So here you see an example of how, of how a typical developer on a prototype would use this, right? So you would use, you would import our custom construct. This is a test file, by the way, an interesting thing about CDK is uh that you can test your CDK constructs. Which is what's what's happening here. This is the JavaScript just test file, but what this test also shows is how you can use it. So, so this is the line you should focus on. This is what individual prototype developers would then uh add in their prototype, right? So, and they're of course happy because all that that security complexity if we can call it that, uh, it's done for them because we have this this curated construct. And I think this is an awesome thing about CDK, uh, that cloud formation itself doesn't give, but CDK does because it layers this programming language on top. You have, you have the option to create libraries and reusable constructs that are secure and that do what you want that are vetted, and, and I think that's an awesome idea and uh you should, if you're not doing that, it's something you should consider, uh, we like it very much. So we have this pool. I'm not showing that here, uh, but we have this pool of such constructs in our team. That are fetted so when you start a prototype, you can just draw that in and that that saves everyone a lot of time. Let's do a bit Gen AI now. Um, I mean that was class. Uh, da da da da, yeah. So. I want this one. So this is VS code. Amazon Q Developer is a is a plugin that's free, free to use for you. You can just install it from the VS Code marketplace. It once you install it, you get this chat window that you see here. This is actually super handy to always have a chat window with an a lamp locally. In VS code, the beauty of it being in VS code is that it understands everything in all your files. It also understands what file you currently have open. So if I would now say, I don't understand what it's saying, it understands, oh, you mean the file APS 3 for 1 mark down blah blah, and so on and so forth. In this case, I will ask it to just go over this repository please and document it for me and then read me. And This little, uh, this little blue check box turns on agentic mode for Amazon Q if you haven't used it yet, and that gives it the capability to call tools such as tools to to look through the current uh uh local files and. And tools to write files to disks such as this mark down such as this markdown file. OK, this, this will run a a minute or whatever. Shall we wait for it? Let's, let's. Let's carry on in the meantime, I'll revisit this in a bit. I Uh, the, the, the, the, uh, yeah. So while this runs, I'll also show you another agentic example. Uh, one for me personally, so creating agents is actually pretty easy and, and if you haven't done it, I also recommend that you start messing around with it and you'll find that it's fun to do and that it's actually uh very much within reach to to write agents that that will help you do things that that matter and Amazon Q developer is is such an agent and it's an awesome tool, but one thing it doesn't have out of the box, for example, is that the ability to to search the web. And but I want my agent to be able to search the web because I, I want my agent to not only draw from memory but to just Google and see what the latest way is to do a particular thing in CDK because that might might have changed over time. So for this purpose, I had some fun writing my own agent. Oh no, I closed it and I know. And I'll show that to you now. Of And this is it, and I think there's not much to it. So I'm using a library that we open source it's called Generative A I took it. It's actually a library that we wrote ourselves, but there's many similar libraries like this out there such as Strands, which we've released recently, but you could also still use Langchain Landgraph as you as you please. Bedrock agents would work as well. Uh, but this is probably one of the most lightweight weight weights that I know of. Uh, all that you need to do to create the agent is you pass it the system prompt, right, where you kind of sketch at the context of what it, what it is. You're an advanced AI agent, you excel in internet research. You can also read and write local files, blah blah blah. And then what I did, I, I implemented a bunch of tools for my agent, and I, and I'll show you that. For example, the web search tool. This is it. It's just a Python function that uses the dog go search library to do web searches. And the way it works is it takes in the query, which is, which is just a string, and it will do the dog go search, return the results, and this works. The agent will call this function. It will see the response values which, which are just pointers to other web pages, right? And then I wrote another tool to um to download these web pages to this one and there's a bit of story to that because web pages if you look at if you download them and you look at the uh the HTML, they're often super uh messy. You, you don't want to pass that to the LLM to your agent because LLMs like markdown. They like like nicely condensed text, so I wrote a little Python script. It's not much as you see, it just, it does, it doesn't get and then it turns the response into mark down. And this is actually pretty cool, so why don't I also show that to you? Let me go back to that window where I was just messing with Q. Was it here? I think I lost track of where I was. Was it here? No. OK, bear with me. I think I'm just gonna do it again. How many do we have? How many are we? So let you do that on the side. And then I'm gonna run my little agent that I just demonstrated to you. This is it. As well, and we'll see who the best who comes up with the best mark down. Amazon Q versus homegrown stuff. Anyway, long story short, I'll show that research research agent one more time to you. This really is it, right? This is just my main.ie file and there's many frameworks like this and it's super easy to build these things and it's, and it's awesome. And I'll give you an interesting example that I that I ran into myself uh earlier this month. I was running into a bug with a library that I was using for my prototype which is called radio. And radio is a Python library to make UIs, and the, and the nice thing about it is it allows you to create the UI in pure Python because when you're doing like data science, every project or just doing agents, it's a little annoying to also have to write a UI and react because then your brain is continuously switching between Python and and JavaScript. So it is actually nice to use radio, but I ran into this bug with radio all the time. Non-type object has no attribute weight and, and. And I didn't, uh, I just didn't want to dive in that and look through their source code and figure that stuff out on the fly. So I asked my, I asked my agent to do it. And, and I thought the results were pretty remarkable, um, because I also built a tool for my agent. I didn't show that just now, but it's super similar to the web search where it where it can go to GetUp and download GetUp files. So it did it. It went, it went to GetUp and it and it scrolled through their entire repository and it was, and, and to my astonishment, uh, let me go there, I'll show you the the the la la la la la this so this text. I just copied the agents analysis in here and you see what it does. It goes to a bunch of these links. Now let's look at the source code. Ah, I found where this is called. Ah, this is the this is the root cause, and it was right. This is the, the, the folks from radio, I love their library, but there's of course a bargain here. Because they're calling this safe get stop event, but they're calling a sync IO get a vent loop. And if that throws a runtime error, that returns none, but they've typed the function to always return an event, so then this is wrong. And actually another piece of their code that was using this was counting on it to always get an event. And would, uh, and would, yeah, and would call a method on it, but if you get none, then of course like uh a nil pointer exception if you will. Which in Python manifests as non-type object has no attribute weight. All right, so long story short, from our viewpoint, generative AI is not just marketing, it actually helps us day to day, and it's, it's awesome to have it. Uh, Amazon Q is a great tool, but also building your own agents is within hand's reach, and it's actually a super good exercise to wrap your head around, around Gen AI and to build useful tools for yourself. By using the logs inside to get those. Uh, the, the, the, let's, uh, where am I this one CDK extras, yeah. I'll, I'll show you also, uh, some recent advancements, cool features that we think we now have, that we didn't have before last year. So for example this, our most recent iteration because these curated code samples that I was talking about, you need to keep them up to date, right? And AWS, as you probably know, launches a lot of services and a lot of new features on day to day basis. So you also need to tap into those new features, otherwise it's wasteful. For, so for example, Um, when you're, when you used to have an ECS container that you wanted to, to make, uh, publicly available on the internet to a web application, probably with authorization, right? But, but reachable from the, from public IPs on the internet. You would put cloud front in front. You would have an application load balancer in a public subnet, and then you would have your your ECS server in the private subnet. And that's, and that's an awesome pattern, but it, it has some, uh, how you say intricacies to it, because how can you be sure that only traffic that goes through your cloud from distribution hits your ALB? That's one of them, right? You don't want people to hit your ALB directly. So then you had to implement things like origin cloaking where you would have, for example, a header with a secret that only cloud phones would know and would pass to your ALB where you would check it and but you have to build that which you can do. Uh, but, but the feature that was released. Not too long ago, is cloud front uh VPC Origins, and that's super cool because Cloud Front can now actually connect to your ALB in a private subnet. Um, so that's something we've now switched to in our curated code template. So the story then is you create a VPC origin in, in your, in your, in your private subnet. What actually happens is cloud front, uh, creates an ENI and that subnet puts a security group on it, and your ALB can just now trust that the security group of your ALB can now just trust that security group of the cloud front ENI. And this is better because you have nothing listening on the public internet and and without doing anything else you have that origin cloaking capability because everything that comes in through cloud front cloud front now helps you and it only passes uh requests from that cloud front uh distribution to your ALB and and not and not other ones. So that's an example of an awesome feature. That was relatively new. I'll show you one more example. to This is, this is, uh, another diagram of a similar thing I had on the slides earlier, so a lot of our applications are lambda based but also ECS based because especially these jet applications have stayed and, and often it's easier to implement them in a in a container. Then as a lambda function, so let's say we do that in a container, then we still want authorization. Uh, and this is one way a developer and our team at build that. So he was using a Python application called Chainlet that was running in the container. And Chainlit has features on board to do O of authentication. So it works nice out of the box at first sight. The way it works is the user comes to your to your chat application. And the chain that uh the text that you're not yet authenticated and redirect you back to Cognito. You have to sign in, then there is this code exchange that O of little dance where you sign in a code is made available to chain it, and it can use that code to grab JWTs and understand that you are authenticated. Uh, but we, we said as security champions with the developer and said that's awesome. The chain that can do that, but there's 8 of your native features actually that can do the same, and you probably wanna use that instead, and I'll just, I'll just demonstrate this for the purpose of, of showing how that goes, right, that such a conversation between the champions and developers and our security is about ever ever improving what you do. Because the application load balancer can actually do that OA sign in itself. So isn't that better? Because you, you can configure the low balance to do O of signing with Cognito, so you handle all of that stuff there at the front in in the managed service. We have shifted the security responsibility back to AWS if it runs in our container, it's our responsibility. Are you sure that that library chainle is solid? I'm not totally sure, but I'm pretty sure that ALB is solid. So this is yet another example of shifting left. We make the managed service do it. When you're signed in there, AOB sets an HTP header XOIDC identity, and that's what your chain app receives and then it still understands who the user is. It doesn't have to do any O off itself. It can just assume, OK. That's the user. this sentence, you want to do a stage on top of the ry like this work inside the bed. Let's talk about. Let me see if that Q has already come back, right? We were comparing Q versus my agent. Uh, what was it again? OK, so queue, blah blah blah blah blah. It did do it. It's, it wrote this file to disk. Walk through. But I also asked my agent to do it. That's not smart because now my agent overwrote Q's result, did. The. Anyway, let's look at Q first. This is, this is pretty cool, I think, because all that stuff that I was just talking about you sees that from the code and and this read mes proper at at the first glance. I will not read through it now, but at first glance this was the story I was just telling so that's pretty cool, uh, and as you can imagine that that speeds that speeds development up because the the documentation burden is, is kind of lifted from you. Giving you more time to build cool features, which is what all developers want, right? Um. Let me do one more cue example. My, my colleague was in a bit of a funny mood, I think when he wrote this, uh, this code sample. It doesn't matter. It's a bit Right. So what this does is we're asking you. To give us So one of the, the problem is, it's a big word, but I showed you earlier how we were using an S3 construct out of CDK and you, and you had to manually actually say and force SSL through. And a versioning true and and you can of course forget that. So it would be nice if you would have that custom construct. That's the same approach I I talked about earlier where where that happens for you. Uh, but let's say that custom construct doesn't yet exist, then you can ask you to create it for you. So this prompt will actually make you look through the CDK code in node modules, understand how that native S3 construct works. And then uh create a secure one with default by secure, uh secure by default. Uh. This is my own agent. I ran it in the wrong directory. And then it runs into a permission error, which I coded myself because I didn't want my agent to just be able to write files everywhere. I wanted to only write files in the current working directory anyway. Uh, doesn't matter. Let's focus on you. How are we in time? 10 minutes. Yeah, the only thing you need is a little bit of patience, right? It's still quicker than writing it yourself, but it's not instant. All right, do it. You see everything it does right. It creates a directory structure. Q has a lot of these tools on board, so I showed you my agent where I have coded those tools. This is one of the benefits that Q brings you because it has all these tools on board already. It can execute shell scripts. It can write files. It can read files and and so on and so forth. Oh, and now I need to give it permission. That's nice that it asks if we're doing such things. Let me, let's not wait for this, uh, right now, let's see if I have anything else in my script. Yeah, let's talk 2 more minutes about MCP. So. The beauty And, and, and my agent's story kind of tells that, so let's go there. For this agent that I wrote, I had to build all these tools. All these things here are Python files that I wrote myself. Uh, which was fun to do, but it's work, and, and this is, this is with the value proposition of MCP because there is a plethora of MCP servers on the internet. I'm pretty sure I'm like positive that there are many prefab GitHub MCP servers that that can uh score GetUp and and download files for you so that you don't have to write it yourself, so. So this is really what MCP gives you. Um, and if you have these MCP servers, you can configure them in Amazon Q. I won't do that now, but all that that ends up doing is Amazon Q under the cover is of course an agent much like this, right? And it also understands these tools. And if you configure an MCP server for Amazon Q, that that's simply what happens. The MCP server stools are listed and those are added into the into the agent that in this case is Amazon Que. And uh one of my colleagues said another day, another MCP server. And what he meant there was that creating MCP service is actually uh pretty easy. Let me do it. Let me quickly show you one. So that's another thing I, I wanna give to you like like uh go dive into that and build your own build your own MCP servers because it's actually fun. Building an MCP server is is nothing other than than those snippets that I just showed you that I implemented myself as a tool, but wrapping them after you've done that, wrapping them in. And these Python decorators. So this is a library called FASTMCP. You just wrap your functions that do things. This is a silly example, right, for, for the sake of the example. This is a weather tool that always says it's sunny, but you can imagine that this would actually invoke an API and and and whatnot, and you just decorate it and then it becomes uh it's MCP uh enabled. So now I can actually add this to Amazon Que. So, uh, so you can add your own stuff to Amazon Q. You can add, add your own tools to there, and, and that's I think is is the value proposition of MCP, right? You have a standard MCP client, Amazon Q, but it's also easy for you to hook up MCP servers that you found on the internet or or your own ones that you write yourself. What I actually did with my agent is I had my, I gave my agent the tool so that it could write files, and from that moment on I could ask my agent to write new tools for me. So it becomes a kind of a thing that helps you build itself out, which I thought was funny. All right, one quick look at Uh, where was that again? I've been swarming all over. Was it here? So what did it do? It wrote. Right. Those are the tests. This is the implementation So this is what Amazon Q wrote for us, a brand new um S3 bucket construct that is secure by default. It enforces. SSL actually turns on a higher level of TLS than would be the default blocks public access. Has capabilities and build to auto delete objects, which is handy for prototypes because they are often throw away buckets. All right. Let's get back to the slides. That was the code demo. So I hope you enjoyed this talk. Uh, our call to action is to use CDKAC and CDK. Terraform is also awesome. Cloud formation is also awesome, but if you ask the AWS prototyping team, we use CDK and CDKE, and we think that's really a great tool set. Use Amazon Q developer with curated templates. I didn't show that in the code, uh, in the code example, right, but, but remember this. LLMs are when it comes to more elaborate pieces of code, security. Sensitive LLMs are very good at copying code. So if you have curated templates, you can just ask Amazon Q or another MCP client to to scaffold a new project based on those secured templates. That's, that's much better than asking it to just scaffold the project, right? So do this, create those curated templates. Static code analysis, eat your vegetables, you still have to do that. If you're just getting started with this, use Ash. That's our open source library, automated security helper. That's awesome. You can run your scans locally and it understands pretty much all languages. And mind your dependencies and the licenses they have. Kun still important. 5 years ago at reinforced we talked about that service. It's still here today and you still want to use it and I think that's that the. It's pretty awesome to see these, these things that are still relevant. So thank you very much for coming to my talk. Uh, super appreciate it. Do connect with me on LinkedIn and reach out, and I'll be around there if you have any other questions. And, and please, uh, leave the session survey, leave the, leave your feedback on the session. I would very much appreciate that.
